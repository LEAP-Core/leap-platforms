
----------
jsemer      Date: Thu Aug 30 12:53:17 EDT 2007  CSN: CSN-platforms-2
                  Thu Aug 30 16:53:17 UTC 2007


Directory config/pm
 hasim/                    Locally Added               0 

Directory config/pm/hasim
 submodels/                Locally Added               0 

Directory config/pm/hasim/submodels
 fpgaenv/                  Locally Added               0 

Directory config/pm/hasim/submodels/fpgaenv
 hasim-fpgaenv-fsb-afu.apm Locally Added               0 
 hasim-fpgaenv-null.apm    Locally Added               0 
 hasim-fpgaenv-software.apm Locally Added               0 
 hasim-fpgaenv-rrr-sim.apm Locally Added               0 
 hasim-fpgaenv-xup.apm     Locally Added               0 
 hasim-fpgaenv-fsb-dme.apm Locally Added               0 

Directory modules
 bluespec/                 Locally Added               0 

Directory modules/bluespec
 common/                   Locally Added               0 

Directory modules/bluespec/common
 fpgaenv/                  Locally Added               0 

Directory modules/bluespec/common/fpgaenv
 fpga-components/          Locally Added               0 

Directory modules/bluespec/common/fpgaenv/fpga-components
 software/                 Locally Added               0 

Directory modules/bluespec/common/fpgaenv/fpga-components/software
 software-fpga-components.awb Locally Added               0 
 BRAM_Bluesim.bsv          Locally Added               0 
 BRAM1.bsv                 Locally Added               0 
 BRAM2.bsv                 Locally Added               0 
 BRAM3.bsv                 Locally Added               0 

Directory modules/bluespec/common/fpgaenv/fpga-components
 hardware/                 Locally Added               0 

Directory modules/bluespec/common/fpgaenv/fpga-components/hardware
 BRAM_Verilog.bsv          Locally Added               0 
 hardware-fpga-components.awb Locally Added               0 
 BRAM_base.bsv             Locally Added               0 
 BRAM.v                    Locally Added               0 
 BRAM1.bsv                 Locally Added               0 
 BRAM2.bsv                 Locally Added               0 
 BRAM3.bsv                 Locally Added               0 

Directory modules/bluespec/common/fpgaenv
 toplevel-wires/           Locally Added               0 

Directory modules/bluespec/common/fpgaenv/toplevel-wires
 fsb_dme/                  Locally Added               0 

Directory modules/bluespec/common/fpgaenv/toplevel-wires/fsb_dme
 fsb-dme-toplevel-wires.awb Locally Added               0 
 fsb_dme.ucf               Locally Added               0 
 FSB_DME_TopLevelWires.bsv Locally Added               0 

Directory modules/bluespec/common/fpgaenv/toplevel-wires
 fsb_afu/                  Locally Added               0 

Directory modules/bluespec/common/fpgaenv/toplevel-wires/fsb_afu
 fsb_afu.ucf               Locally Added               0 
 FSB_AFU_TopLevelWires.bsv Locally Added               0 
 fsb-afu-toplevel-wires.awb Locally Added               0 

Directory modules/bluespec/common/fpgaenv/toplevel-wires
 null/                     Locally Added               0 

Directory modules/bluespec/common/fpgaenv/toplevel-wires/null
 null-toplevel-wires.awb   Locally Added               0 
 NullTopLevelWires.bsv     Locally Added               0 

Directory modules/bluespec/common/fpgaenv/toplevel-wires
 xup/                      Locally Added               0 

Directory modules/bluespec/common/fpgaenv/toplevel-wires/xup
 xup.download              Locally Added               0 
 xup-toplevel-wires.awb    Locally Added               0 
 xup.ut                    Locally Added               0 
 xup.ucf                   Locally Added               0 
 xup.xst                   Locally Added               0 
 XUPTopLevelWires.bsv      Locally Added               0 

Directory modules/bluespec/common/fpgaenv
 fpga-environment.awb      Locally Added               0 
 virtual-platform/         Locally Added               0 

Directory modules/bluespec/common/fpgaenv/virtual-platform
 channelio/                Locally Added               0 

Directory modules/bluespec/common/fpgaenv/virtual-platform/channelio
 unix/                     Locally Added               0 

Directory modules/bluespec/common/fpgaenv/virtual-platform/channelio/unix
 unix-channelio.c          Locally Added               0 
 unix-channelio.awb        Locally Added               0 
 UNIXChannelIO.bsv         Locally Added               0 

Directory modules/bluespec/common/fpgaenv/virtual-platform/channelio
 sim/                      Locally Added               0 

Directory modules/bluespec/common/fpgaenv/virtual-platform/channelio/sim
 SimChannelIO.bsv          Locally Added               0 
 sim-channelio.c           Locally Added               0 
 sim-channelio.h           Locally Added               0 
 sim-channelio.awb         Locally Added               0 

Directory modules/bluespec/common/fpgaenv/virtual-platform/channelio
 null/                     Locally Added               0 

Directory modules/bluespec/common/fpgaenv/virtual-platform/channelio/null
 null-channelio.awb        Locally Added               0 

Directory modules/bluespec/common/fpgaenv/virtual-platform
 rrr-virtual-platform.awb  Locally Added               0 
 rrr/                      Locally Added               0 

Directory modules/bluespec/common/fpgaenv/virtual-platform/rrr
 software-rrr-server.c     Locally Added               0 
 software-rrr-server.h     Locally Added               0 
 HardwareRRRClient.bsv     Locally Added               0 
 global-service-list.rrr   Locally Added               0 
 rrr.awb                   Locally Added               0 

Directory modules/bluespec/common/fpgaenv/virtual-platform
 virtual-devices/          Locally Added               0 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices
 console/                  Locally Added               0 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/console
 console-serial/           Locally Added               0 
 graphical-serial/         Locally Added               0 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/console/graphical-serial
 graphical-serial.awb      Locally Added               0 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/console
 null-serial/              Locally Added               0 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/console/null-serial
 null-serial.awb           Locally Added               0 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/console
 xup-serial/               Locally Added               0 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices
 std-virtual-devices-mem.awb Locally Added               0 
 front-panel/              Locally Added               0 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/front-panel
 fsb_dme/                  Locally Added               0 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/front-panel/fsb_dme
 fsb-dme-fp.awb            Locally Added               0 
 FSB_DME_FP.bsv            Locally Added               0 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/front-panel
 hybrid/                   Locally Added               0 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/front-panel/hybrid
 HybridFP.bsv              Locally Added               0 
 hybrid-fp-sw.c            Locally Added               0 
 hybrid-fp.awb             Locally Added               0 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/front-panel
 console/                  Locally Added               0 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/front-panel/console
 NullFP.bsv                Locally Added               0 
 console-fp.awb            Locally Added               0 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/front-panel
 fsb_afu/                  Locally Added               0 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/front-panel/fsb_afu
 FSB_AFU_FP.bsv            Locally Added               0 
 fsb-afu-fp.awb            Locally Added               0 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/front-panel
 graphical/                Locally Added               0 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/front-panel/graphical
 graphical-fp.awb          Locally Added               0 
 GraphicalFP.bsv           Locally Added               0 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/front-panel
 xup/                      Locally Added               0 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/front-panel/xup
 xup-fp.awb                Locally Added               0 
 XUPFP.bsv                 Locally Added               0 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices
 std-virtual-devices.awb   Locally Added               0 
 memory/                   Locally Added               0 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/memory
 hybrid/                   Locally Added               0 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/memory/hybrid
 hybrid-memory-sw.c        Locally Added               0 
 hybrid-memory.awb         Locally Added               0 
 HybridMemory.bsv          Locally Added               0 

Directory modules/bluespec/common/fpgaenv/virtual-platform
 std-virtual-platform.awb  Locally Added               0 
 fast-virtual-platform.awb Locally Added               0 

Moved fpga environment from hasim to here.

----------
aparasha    Date: Fri Aug 31 14:15:28 EDT 2007  CSN: CSN-platforms-3
                  Fri Aug 31 18:15:28 UTC 2007


Directory config/pm/hasim/submodels/fpgaenv
 hasim-fpgaenv-fsb-afu.apm Locally Modified            2 
 hasim-fpgaenv-null.apm    Locally Modified            2 
 hasim-fpgaenv-software.apm Locally Modified            2 
 hasim-fpgaenv-rrr-sim.apm Locally Modified            2 
 hasim-fpgaenv-xup.apm     Locally Modified            2 
 hasim-fpgaenv-fsb-dme.apm Locally Modified            2 

Directory modules/bluespec/common/fpgaenv
 fpga-environment.awb      Locally Modified            2 

Directory modules/bluespec/common/fpgaenv/virtual-platform/channelio/null
 null-channelio.awb        Locally Modified            2 
 NullChannelIO.bsv         Locally Added               0 

Directory modules/bluespec/common/fpgaenv/virtual-platform
 rrr-virtual-platform.awb  Locally Removed             2 

Directory modules/bluespec/common/fpgaenv/virtual-platform/rrr
 null-rrr.awb              Locally Added               0 
 NullRRR.bsv               Locally Added               0 
 HardwareRRRClient.bsv     Locally Modified            2 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/front-panel/hybrid
 HybridFP.bsv              Locally Modified            2 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/front-panel/graphical
 GraphicalFP.bsv           Locally Modified            2 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/front-panel/xup
 XUPFP.bsv                 Locally Modified            2 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/memory/hybrid
 HybridMemory.bsv          Locally Modified            2 

Directory modules/bluespec/common/fpgaenv/virtual-platform
 low-level-platform-interface/ Locally Added               0 

Directory modules/bluespec/common/fpgaenv/virtual-platform/low-level-platform-interface
 LowLevelPlatformInterface.bsv Locally Added               0 
 low-level-platform-interface.awb Locally Added               0 

Directory modules/bluespec/common/fpgaenv/virtual-platform
 std-virtual-platform.awb  Locally Modified            2 


FPGAenv Reorganization: A new module called
low-level-platform-interface (LLPI) now encapsulates RRR,
Channel I/O, and Top Level Wires. The higher level HAsim
Platform Interface instantiates the LLPI and passes it down
to all the virtual devices, which can choose to use any
of the three mechanisms (RRR, ChannelIO, TopLevelWires) to
implement their functionality.

This commit only updates the AWB hierarchy to reflect the
new organization. The directory structure is slightly
inconsistent, and will be fixed in a future commit.
----------
mpellaue    Date: Fri Aug 31 16:43:56 EDT 2007  CSN: CSN-platforms-4
                  Fri Aug 31 20:43:56 UTC 2007


Directory config/pm/hasim/submodels/fpgaenv
 hasim-fpgaenv-null.apm    Locally Modified            3 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/front-panel/console
 NullFP.bsv                Locally Modified            3 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/memory/hybrid
 hybrid-memory.awb         Locally Modified            3 
 HybridMemory.bsv          Locally Modified            3 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/memory
 simulation/               Locally Added               0 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/memory/simulation
 simulation-memory.awb     Locally Added               0 
 BRAMMemory.bsv            Locally Added               0 


Added support for "Simulation only" memory virtual device which uses BRAM and
never issues invalidates. This can serve as a template for the Hybrid Memory BSV
side.

Michael P.



----------
mcadler     Date: Thu Sep  6 15:39:26 EDT 2007  CSN: CSN-platforms-5
                  Thu Sep  6 19:39:26 UTC 2007


Directory drivers
 linux/                    Locally Added               0 

Directory drivers/linux
 Xilinx_Platform_Cable/    Locally Added               0 

Directory drivers/linux/Xilinx_Platform_Cable
 usb-driver/               Locally Added               0 

Directory drivers/linux/Xilinx_Platform_Cable/usb-driver
 jtagkey.c                 Locally Added               0 
 jtagmon.c                 Locally Added               0 
 usb-driver.c              Locally Added               0 
 jtagkey.h                 Locally Added               0 
 jtagmon.h                 Locally Added               0 
 config.c                  Locally Added               0 
 parport.c                 Locally Added               0 
 usb-driver.h              Locally Added               0 
 index.html                Locally Added               0 
 config.h                  Locally Added               0 
 Makefile                  Locally Added               0 
 README                    Locally Added               0 
 parport.h                 Locally Added               0 
 libusb-driverrc           Locally Added               0 

Directory drivers/linux/Xilinx_Platform_Cable
 windriver/                Locally Added               0 

Directory drivers/linux/Xilinx_Platform_Cable/windriver
 install_drivers           Locally Added               0 
 release_notes             Locally Added               0 
 linux_drivers/            Locally Added               0 

Directory drivers/linux/Xilinx_Platform_Cable/windriver/linux_drivers
 xpc4drvr2_4/              Locally Added               0 

Directory drivers/linux/Xilinx_Platform_Cable/windriver/linux_drivers/xpc4drvr2_4
 xpc4drvr/                 Locally Added               0 

Directory drivers/linux/Xilinx_Platform_Cable/windriver/linux_drivers/xpc4drvr2_4/xpc4drvr
 xpc4.c                    Locally Added               0 
 install_drv               Locally Added               0 
 ioctl_3_64.a              Locally Added               0 
 xpc4.h                    Locally Added               0 
 ioctl_2.a                 Locally Added               0 
 ioctl_3.a                 Locally Added               0 
 Makefile                  Locally Added               0 

Directory drivers/linux/Xilinx_Platform_Cable/windriver/linux_drivers
 windriver64/              Locally Added               0 

Directory drivers/linux/Xilinx_Platform_Cable/windriver/linux_drivers/windriver64
 include/                  Locally Added               0 

Directory drivers/linux/Xilinx_Platform_Cable/windriver/linux_drivers/windriver64/include
 windrvr.h                 Locally Added               0 
 wd_ver.h                  Locally Added               0 

Directory drivers/linux/Xilinx_Platform_Cable/windriver/linux_drivers/windriver64
 windrvr/                  Locally Added               0 

Directory drivers/linux/Xilinx_Platform_Cable/windriver/linux_drivers/windriver64/windrvr
 configure                 Locally Added               0 
 makefile.in               Locally Added               0 
 linux_wrappers.c          Locally Added               0 
 wdusb_linux.c             Locally Added               0 
 linux_wrappers.h          Locally Added               0 
 wdreg                     Locally Added               0 
 wdusb_interface.h         Locally Added               0 
 setup_inst_dir            Locally Added               0 
 windrvr_gcc_v3_regparm.a  Locally Added               0 
 linux_common.h            Locally Added               0 
 windrvr_gcc_v3.a          Locally Added               0 

Directory drivers/linux/Xilinx_Platform_Cable/windriver/linux_drivers
 xpc4drvr2_6/              Locally Added               0 

Directory drivers/linux/Xilinx_Platform_Cable/windriver/linux_drivers/xpc4drvr2_6
 xpc4drvr/                 Locally Added               0 

Directory drivers/linux/Xilinx_Platform_Cable/windriver/linux_drivers/xpc4drvr2_6/xpc4drvr
 xpc4.c                    Locally Added               0 
 ioctl_3_regparm_64.a      Locally Added               0 
 install_drv               Locally Added               0 
 configure                 Locally Added               0 
 ioctl_3_64.a              Locally Added               0 
 xpc4.h                    Locally Added               0 
 Mkfile.tmp                Locally Added               0 
 ioctl_3_regparm.a         Locally Added               0 
 ioctl_3.a                 Locally Added               0 
 Makefile                  Locally Added               0 

Directory drivers/linux/Xilinx_Platform_Cable/windriver/linux_drivers
 pcusb/                    Locally Added               0 

Directory drivers/linux/Xilinx_Platform_Cable/windriver/linux_drivers/pcusb
 xusbdfwu.rules            Locally Added               0 
 xusb_xup.hex              Locally Added               0 
 xusbdfwu.usermap          Locally Added               0 
 xusb_xlp                  Locally Added               0 
 xusb_emb                  Locally Added               0 
 xusb_xlp.hex              Locally Added               0 
 xusbdfwu                  Locally Added               0 
 xusb_emb.hex              Locally Added               0 
 xusb_xpr                  Locally Added               0 
 xusbdfwu.hex              Locally Added               0 
 setup_pcusb               Locally Added               0 
 xusb_xpr.hex              Locally Added               0 
 xusb_xup                  Locally Added               0 

Directory drivers/linux/Xilinx_Platform_Cable/windriver/linux_drivers
 windriver32/              Locally Added               0 

Directory drivers/linux/Xilinx_Platform_Cable/windriver/linux_drivers/windriver32
 include/                  Locally Added               0 

Directory drivers/linux/Xilinx_Platform_Cable/windriver/linux_drivers/windriver32/include
 windrvr.h                 Locally Added               0 
 wd_ver.h                  Locally Added               0 

Directory drivers/linux/Xilinx_Platform_Cable/windriver/linux_drivers/windriver32
 windrvr/                  Locally Added               0 

Directory drivers/linux/Xilinx_Platform_Cable/windriver/linux_drivers/windriver32/windrvr
 configure                 Locally Added               0 
 makefile.in               Locally Added               0 
 linux_wrappers.c          Locally Added               0 
 wdusb_linux.c             Locally Added               0 
 linux_wrappers.h          Locally Added               0 
 wdreg                     Locally Added               0 
 wdusb_interface.h         Locally Added               0 
 setup_inst_dir            Locally Added               0 
 windrvr_gcc_v3_regparm.a  Locally Added               0 
 windrvr_gcc_v2.a          Locally Added               0 
 linux_common.h            Locally Added               0 
 windrvr_gcc_v3.a          Locally Added               0 

Directory drivers/linux/Xilinx_Platform_Cable
 README                    Locally Added               0 
 fxload/                   Locally Added               0 

Directory drivers/linux/Xilinx_Platform_Cable/fxload
 fxload.8                  Locally Added               0 
 main.c                    Locally Added               0 
 a3load.hex                Locally Added               0 
 COPYING                   Locally Added               0 
 ezusb.c                   Locally Added               0 
 README.txt                Locally Added               0 
 Makefile                  Locally Added               0 
 ezusb.h                   Locally Added               0 

Directory .
 drivers/                  Locally Added               0 

These are the drivers needed to connect the Xilinx USB Programming Cable.
This check-in is the unmodified drivers as downloaded from a few web sites.

----------
mcadler     Date: Thu Sep  6 15:58:15 EDT 2007  CSN: CSN-platforms-6
                  Thu Sep  6 19:58:15 UTC 2007


Directory drivers/linux/Xilinx_Platform_Cable/windriver
 install_drivers           Locally Modified            5 

Directory drivers/linux/Xilinx_Platform_Cable/windriver/linux_drivers/windriver64/windrvr
 configure                 Locally Modified            5 
 wdreg                     Locally Modified            5 

Directory drivers/linux/Xilinx_Platform_Cable
 patch.usb.rc              Locally Added               0 
 README                    Locally Modified            5 

Local changes to support 64 bit SuSE 9.3.

----------
mcadler     Date: Thu Sep  6 16:27:30 EDT 2007  CSN: CSN-platforms-7
                  Thu Sep  6 20:27:30 UTC 2007


Directory drivers/linux/Xilinx_Platform_Cable
 README                    Locally Modified            6 

Add note on working around a failure.

----------
aparasha    Date: Fri Sep  7 17:41:16 EDT 2007  CSN: CSN-platforms-8
                  Fri Sep  7 21:41:16 UTC 2007


Directory config/pm/hasim/submodels/fpgaenv
 hasim-fpgaenv-software.apm Locally Modified            7 
 hasim-fpgaenv-rrr-sim.apm Locally Modified            7 

Directory modules/bluespec/common/fpgaenv/virtual-platform/rrr
 software-rrr-server.c     Locally Removed             7 
 software-rrr-server.cpp   Locally Added               0 
 NullRRR.bsv               Locally Modified            7 
 HardwareRRRClient.bsv     Locally Modified            7 
 global-service-list.rrr   Locally Modified            7 
 rrr.awb                   Locally Modified            7 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/front-panel/hybrid
 HybridFP.bsv              Locally Modified            7 
 hybrid-fp-sw.c            Locally Removed             7 
 hybrid-fp.awb             Locally Modified            7 
 hybrid-fp-sw.cpp          Locally Added               0 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/memory/hybrid
 hybrid-memory-sw.c        Locally Removed             7 
 hybrid-memory.awb         Locally Modified            7 
 hybrid-memory-sw.cpp      Locally Added               - 
 HybridMemory.bsv          Locally Modified            7 

Directory modules/bluespec/common/fpgaenv/virtual-platform/low-level-platform-interface
 LowLevelPlatformInterface.bsv Locally Modified            7 


- Interim Checkin: added partial support for virtual memory device.
  Memory is not yet operational, but existing models should work
  as before.

- moved all sofware-partition source files from .c to .cpp

----------
aparasha    Date: Tue Sep 11 14:42:46 EDT 2007  CSN: CSN-platforms-9
                  Tue Sep 11 18:42:46 UTC 2007


Directory config/pm/hasim/submodels/fpgaenv
 hasim-fpgaenv-rrr-sim.apm Locally Modified            8 

Directory modules/bluespec/common/fpgaenv/virtual-platform/rrr
 software-rrr-server.cpp   Locally Modified            8 
 global-service-list.rrr   Locally Modified            8 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/front-panel/hybrid
 HybridFP.bsv              Locally Modified            8 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/memory/hybrid
 HybridMemory.bsv          Locally Modified            8 


- updated Hybrid Memory. Some basic functionalities now work.
  Please see MemTest.bsv for an example on how to use it.

- modified Hybrid Front Panel to poll RRR every few cycles
  instead of every cycle. This gives other RRR clients a chance
  to win during rule scheduling (currently, RRR arbitration is
  solely through implicit Bluespec rule-scheduling).

----------
mcadler     Date: Tue Sep 11 16:11:55 EDT 2007  CSN: CSN-platforms-10
                  Tue Sep 11 20:11:55 UTC 2007


Directory config/pm/hasim/submodels/fpgaenv
 hasim-fpgaenv-fsb-afu.apm Locally Modified            9 
 hasim-fpgaenv-software-no-gui.apm Locally Added               0 
 hasim-fpgaenv-null.apm    Locally Modified            9 
 hasim-fpgaenv-software.apm Locally Modified            9 
 hasim-fpgaenv-rrr-sim.apm Locally Modified            9 
 hasim-fpgaenv-xup.apm     Locally Modified            9 
 hasim-fpgaenv-fsb-dme.apm Locally Modified            9 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices
 std-virtual-devices-mem.awb Locally Removed             9 
 std-virtual-devices.awb   Locally Modified            9 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/memory
 null/                     Locally Added               0 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/memory/null
 null-memory.awb           Locally Added               0 
 NullMemory.bsv            Locally Added               0 

- Remove std-virtual-devices-mem since memory is required by all models.
  Just use std-virtual-devices.
- Added a null memory implementation.
- Added a hasim-fpgaenv-software-no-gui temporarily to avoid loading the
  GUI console.  We'll get rid of this after the GUI console has the option
  of not opening the GUI.

----------
aparasha    Date: Tue Sep 11 17:10:13 EDT 2007  CSN: CSN-platforms-11
                  Tue Sep 11 21:10:13 UTC 2007


Directory modules/bluespec/common/fpgaenv/virtual-platform/rrr
 software-rrr-server.cpp   Locally Modified           10 
 global-service-list.rrr   Locally Removed            10 
 rrr.awb                   Locally Modified           10 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/front-panel/hybrid
 hybrid-fp-services.rrr    Locally Added               0 
 hybrid-fp.awb             Locally Modified           10 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/memory/hybrid
 hybrid-memory.awb         Locally Modified           10 
 hybrid-memory-services.rrr Locally Added               0 


- removed global service list from Software Server module.

- added local service lists to Hybrid Front Panel and
  Hybrid Memory modules.
----------
aparasha    Date: Fri Sep 14 12:52:13 EDT 2007  CSN: CSN-platforms-12
                  Fri Sep 14 16:52:13 UTC 2007


Directory modules/bluespec/common/fpgaenv/virtual-platform/rrr
 HardwareRRRClient.bsv     Locally Modified           11 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/front-panel/hybrid
 HybridFP.bsv              Locally Modified           11 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/memory/hybrid
 HybridMemory.bsv          Locally Modified           11 


- removed hard-coded serviceIDs from Hybrid Front Panel and
  Hybrid Memory.

- further reduced front panel's poll rate.
----------
aparasha    Date: Mon Sep 17 13:56:42 EDT 2007  CSN: CSN-platforms-13
                  Mon Sep 17 17:56:42 UTC 2007


Directory modules/bluespec/common/fpgaenv/virtual-platform/channelio/sim
 SimChannelIO.bsv          Locally Modified           12 
 sim-channelio.c           Locally Modified           12 
 sim-channelio.h           Locally Modified           12 
 sim-channelio.awb         Locally Modified           12 

Directory modules/bluespec/common/fpgaenv/virtual-platform/rrr
 software-rrr-server.cpp   Locally Modified           12 
 software-rrr-server.h     Locally Modified           12 
 HardwareRRRClient.bsv     Locally Modified           12 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/front-panel/hybrid
 hybrid-fp-sw.cpp          Locally Modified           12 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/memory/hybrid
 hybrid-memory-sw.cpp      Locally Modified           12 

- changed the method used to launch a hybrid model. The software
  executable needs to be invoked by the user, which will in turn
  launch the hardware part of the simulation (this will be later
  extended to enable the software executable to download the bitfile
  onto the FPGA for a "real" hybrid execution).

- cleaned up the BSV-side of the sim-channelio module significantly;
  some of the functionality has now been transferred to the software
  side.

- updated the way in which software services handle exceptions:
  instead of exiting immediately, they send a message to the server
  so that it can perform some cleanup operations (terminating all
  other services and the hardware simulation) before exiting.
  This method is also used to terminate simulation if the user
  clicks on the Exit button on the front panel.
----------
aparasha    Date: Wed Sep 19 13:24:21 EDT 2007  CSN: CSN-platforms-14
                  Wed Sep 19 17:24:21 UTC 2007


Directory modules/bluespec/common/fpgaenv/virtual-platform/channelio/sim
 sim-channelio.c           Locally Modified           13 
 sim-channelio.h           Locally Modified           13 

Directory modules/bluespec/common/fpgaenv/virtual-platform/rrr
 software-rrr-server.cpp   Locally Modified           13 
 software-rrr-server.h     Locally Modified           13 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/front-panel/hybrid
 hybrid-fp-sw.cpp          Locally Modified           13 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/memory/hybrid
 hybrid-memory.awb         Locally Modified           13 
 hybrid-memory-sw.cpp      Locally Modified           13 
 vmh-utils.cpp             Locally Added               0 
 vmh-utils.h               Locally Added               0 

- added support for loading a VMH image into the hybrid
  memory module's software partition. Hybrid SMIPS models
  are now able to run VMH benchmarks by streaming them in
  from the software partition.

  This was tested using a hybrid version of the SMPIS
  5-stage pipeline coupled with the V2 functional partition
  on the microbenchmarks. All 5 microbenchmarks complete
  successfully.

  However, there are some timing discrepancies between the
  event logs of the hybrid and pure simulations, although
  the sequence of events appears to be the same. I will
  examine these more thoroughly.

- added support for specifying a VMH file as a command-line
  parameter to the host software executable. If no
  parameter is provided, "program.vmh" is assumed to be
  the VMH image to be loaded, and should be present in the
  current directory. Since the benchmark setup script has
  not been updated to support hybrid models, as of now the
  VMH benchmark name needs to be explicitly provided for
  launching hybrid simulations.

- fixed a major bug in the software RRR server and memory
  service: void service methods were not being handled
  properly and were returning a 0 result on channelio.

- sim-channelio now uses a unique set of well-known
  descriptors (100 and 101) to communicate, freeing up
  STDIN and STDOUT for use by $display etc.

----------
aparasha    Date: Tue Sep 25 13:05:57 EDT 2007  CSN: CSN-platforms-15
                  Tue Sep 25 17:05:57 UTC 2007


Directory config/pm/hasim/submodels/fpgaenv
 hasim-fpgaenv-hybrid-sim.apm Locally Added               - 
 hasim-fpgaenv-rrr-sim.apm Locally Removed            14 

Directory modules/bluespec/common/fpgaenv/virtual-platform/rrr
 software-rrr-server.cpp   Locally Modified           14 
 software-rrr-server.h     Locally Modified           14 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/front-panel/hybrid
 HybridFP.bsv              Locally Modified           14 
 hybrid-fp-sw.h            Locally Added               0 
 hybrid-fp-services.rrr    Locally Modified           14 
 hybrid-fp.awb             Locally Modified           14 
 hybrid-fp-sw.cpp          Locally Modified           14 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/memory/hybrid
 hybrid-memory.awb         Locally Modified           14 
 hybrid-memory-sw.cpp      Locally Modified           14 
 HybridMemory.bsv          Locally Modified           14 
 hybrid-memory-sw.h        Locally Added               0 
 hybrid-memory-services.rrr Locally Modified           14 

- changed programming style of RRR services from procedural to
  to a more ASIM-like object-oriented style. However, the RRR
  service objects are currently not dynamically instantiated by
  the server; they are statically instantiated as global variables
  within the modules themselves, and the server accesses them
  via extern pointers.

- all RRR services now have a Clock() method that is called by
  the software RRR server's clock() method.

- hybrid Front Panel's Clock() synchronizes its cached state
  with the Perl dialog box, while the Request() method simply
  returns/updates the local cached state.

- the server's main() has been removed, and the functionality
  has been moved to its clock method() which is called by the
  software controller in an infinite loop.
----------
aparasha    Date: Wed Sep 26 00:29:19 EDT 2007  CSN: CSN-platforms-16
                  Wed Sep 26 04:29:19 UTC 2007


Directory modules/bluespec/common/fpgaenv/virtual-platform/rrr
 software-rrr-server.cpp   Locally Modified           15 
 software-rrr-server.h     Locally Modified           15 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/front-panel/hybrid
 hybrid-fp-sw.cpp          Locally Modified           15 
 hybrid-fp-sw.h            Locally Modified           15 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/memory/hybrid
 hybrid-memory-sw.h        Locally Modified           15 
 hybrid-memory-sw.cpp      Locally Modified           15 

Directory modules/bluespec/common/fpgaenv/virtual-platform/channelio/sim
 sim-channelio-sw.h        Locally Added               0 
 sim-channelio.awb         Locally Modified           14 
 sim-channelio-sw.cpp      Locally Added               0 

- moved software channelio functionality from RRR server to channelio
  module. All RRR code is now physical-platform-independent.

- encapsulated RRR server functions in a RRR server class.

- renamed Clock() to Poll() in RRR server and services.
----------
aparasha    Date: Wed Sep 26 19:38:18 EDT 2007  CSN: CSN-platforms-17
                  Wed Sep 26 23:38:20 UTC 2007


Directory modules/bluespec/common/fpgaenv/virtual-platform/rrr
 HardwareRRRClient.bsv     Locally Modified           16 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/front-panel/hybrid
 HybridFP.bsv              Locally Modified           16 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/memory/hybrid
 HybridMemory.bsv          Locally Modified           16 

- merged the sendReq and sendVoidReq methods in hardware RRR
  client into a single method makeRequest, with a bool paramter
  which specifies whether a response is expected or not.

- cleaned up some of the hardware RRR code.

----------
aparasha    Date: Mon Oct  8 14:25:29 EDT 2007  CSN: CSN-platforms-18
                  Mon Oct  8 18:25:29 UTC 2007


Directory modules/bluespec/common/fpgaenv/virtual-platform/rrr
 NullRRR.bsv               Locally Modified           17 

updated NullRRR.bsv to have the same interface as the
functional RRR module.

----------
mcadler     Date: Wed Oct 17 14:26:32 EDT 2007  CSN: CSN-platforms-19
                  Wed Oct 17 18:26:32 UTC 2007


Directory modules/bluespec/common/fpgaenv/toplevel-wires/xup
 xup.download              Locally Modified           18 
 xup.xst                   Locally Modified           18 

Bit image now built in .xilinx directory.

----------
mcadler     Date: Mon Oct 22 10:38:12 EDT 2007  CSN: CSN-platforms-20
                  Mon Oct 22 14:38:12 UTC 2007


Directory modules/bluespec/common/fpgaenv/toplevel-wires/xup
 xup.download              Locally Removed            19 
 xup-toplevel-wires.awb    Locally Removed            19 
 xup.ut                    Locally Removed            19 
 xup.ucf                   Locally Removed            19 
 xup.xst                   Locally Removed            19 
 XUPTopLevelWires.bsv      Locally Removed            19 

Directory modules/bluespec/common/fpgaenv/toplevel-wires
 xup/                      Locally Removed            19 

First step in making a unified xilinx top level description.
I really renamed xup xilinx.  Hopefully svn is doing the right thing.

----------
mcadler     Date: Tue Oct 23 14:07:56 EDT 2007  CSN: CSN-platforms-21
                  Tue Oct 23 18:07:56 UTC 2007


Directory config/pm/hasim/submodels/fpgaenv
 hasim-fpgaenv-htg-v5-pcie.apm Locally Added               0 
 hasim-fpgaenv-xup.apm     Locally Modified           20 

Directory modules/bluespec/common/fpgaenv/toplevel-wires/xilinx
 htg-v5-pcie-toplevel-wires.awb Locally Added               0 
 xilinx.download           Locally Added               - 
 xup.download              Locally Removed            20 
 xilinx.ut                 Locally Added               - 
 xup-toplevel-wires.awb    Locally Modified           20 
 xup.ut                    Locally Removed            20 
 htg-v5-pcie-TopLevelWires.bsv Locally Added               0 
 htg-v5-pcie.ucf           Locally Added               0 
 xup-TopLevelWires.bsv     Locally Added               - 
 xilinx.xst                Locally Added               - 
 xup.xst                   Locally Removed            20 
 XUPTopLevelWires.bsv      Locally Removed            20 

Add support for HiTech Global v5 PCIe board.  Currently configured for a
Virtex-5 LX50T.  Will change to an LX110T when we get the right card.

----------
aparasha    Date: Tue Oct 23 18:26:26 EDT 2007  CSN: CSN-platforms-22
                  Tue Oct 23 22:26:26 UTC 2007


Directory modules/bluespec/common/fpgaenv/virtual-platform/channelio/sim
 sim-channelio-sw.h        Locally Modified           21 

Directory modules/bluespec/common/fpgaenv/virtual-platform/rrr
 software-rrr-server.cpp   Locally Modified           21 
 software-rrr-server.h     Locally Modified           21 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/front-panel/hybrid
 HybridFP.bsv              Locally Modified           21 
 hybrid-fp-sw.h            Locally Modified           21 
 hybrid-fp-sw.cpp          Locally Modified           21 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/memory/hybrid
 hybrid-memory-sw.cpp      Locally Modified           21 
 HybridMemory.bsv          Locally Modified           21 
 hybrid-memory-sw.h        Locally Modified           21 

- updated software service registration process
  * services self-instantiate statically.
  * they register themselves with a static table
    belonging to server.
  * when server gets instantiated, it calles Init()
    on all services pre-registered in its table
  * serviceID's are generated by hasim-configure
    in a global header file.

- updated hardware client registration process:
  similar to the software side, hasim-configure
  generates a global BSV with `defines for all
  services.

- hybrid front panel checks a global parameter to
  decide whether to pop up a dialog box.

----------
mcadler     Date: Mon Oct 29 17:13:22 EDT 2007  CSN: CSN-platforms-23
                  Mon Oct 29 21:13:22 UTC 2007


Directory modules/bluespec/common/fpgaenv/toplevel-wires/null
 NullTopLevelWires.bsv     Locally Modified           22 

Directory modules/bluespec/common/fpgaenv/toplevel-wires/xilinx
 htg-v5-pcie-TopLevelWires.bsv Locally Modified           22 
 htg-v5-pcie.ucf           Locally Modified           22 
 xup-TopLevelWires.bsv     Locally Modified           22 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/front-panel/hybrid
 HybridFP.bsv              Locally Modified           22 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/front-panel/console
 NullFP.bsv                Locally Modified           22 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/front-panel/graphical
 GraphicalFP.bsv           Locally Modified           22 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/front-panel/xup
 XUPFP.bsv                 Locally Modified           22 

- Front panel now defines 6 types for communicating the number of
  LEDs, buttons and switches.  Three are Bit vectors for holding the state
  (FRONTP_LEDS, FRONTP_SWITCHES and FRONTP_BUTTONS).  Three are sizes
  (FRONTP_NUM_LEDS...).
- Toplevel wires communicates the number of LEDS and SWITCHES with similar
  types.
- Change HiTech Global board config to 8 LEDs and switches.

----------
mcadler     Date: Thu Nov  1 14:59:03 EDT 2007  CSN: CSN-platforms-24
                  Thu Nov  1 18:59:03 UTC 2007


Directory modules/bluespec/common/fpgaenv/toplevel-wires/xilinx
 htg-v5-pcie-TopLevelWires.bsv Locally Modified           23 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/front-panel/hybrid
 HybridFP.bsv              Locally Modified           23 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/front-panel/console
 NullFP.bsv                Locally Modified           23 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/front-panel/graphical
 GraphicalFP.bsv           Locally Modified           23 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/front-panel/xup
 XUPFP.bsv                 Locally Modified           23 

- Add mask to data passed to writeLEDs so individual lights can be updated.
- Enable all 8 LEDs on HTG board and 8 on the software front panel.
- HTG LEDs are active high.

----------
pellauer    Date: Wed Nov 14 17:45:10 EST 2007  CSN: CSN-platforms-25
                  Wed Nov 14 22:45:10 UTC 2007


Directory modules/bluespec/common/fpgaenv
 hardware-platform/        Locally Added               0 

Directory modules/bluespec/common/fpgaenv/hardware-platform
 pcie/                     Locally Added               0 

Directory modules/bluespec/common/fpgaenv/hardware-platform/pcie
 PCIe.bsv                  Locally Added               0 
 pcie_hardware_platform.awb Locally Added               0 


Added the first version of the PCIe hardware platform import into Bluespec.

Michael P.

----------
aparasha    Date: Tue Nov 20 09:51:18 EST 2007  CSN: CSN-platforms-26
                  Tue Nov 20 14:51:18 UTC 2007


Directory modules/bluespec/common/fpgaenv/hardware-platform/pcie
 PCIe.bsv                  Locally Modified           25 

updated Bluespec wrapper around VHDL HardwareChannels module based
on HardwareChannels v0.8 spec.
----------
aparasha    Date: Tue Nov 27 17:57:18 EST 2007  CSN: CSN-platforms-27
                  Tue Nov 27 22:57:18 UTC 2007


Directory modules/bluespec/common/fpgaenv/virtual-platform/channelio/sim
 SimChannelIO.bsv          Locally Modified           26 
 sim-channelio.c           Locally Modified           26 
 sim-channelio.h           Locally Modified           26 
 sim-channelio.awb         Locally Modified           26 

Directory modules/bluespec/common/fpgaenv/virtual-platform/rrr
 software-server.cpp       Locally Added               0 
 software-rrr-server.cpp   Locally Removed            26 
 software-server.h         Locally Added               0 
 HardwareClient.bsv        Locally Added               0 
 software-rrr-server.h     Locally Removed            26 
 rrr_common.bsh            Locally Added               0 
 HardwareRRRClient.bsv     Locally Removed            26 
 rrr.awb                   Locally Modified           26 
 HardwareServer.bsv        Locally Added               0 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/front-panel/hybrid
 HybridFP.bsv              Locally Modified           26 
 hybrid-fp-sw.h            Locally Modified           26 
 hybrid-fp-services.rrr    Locally Modified           26 
 hybrid-fp-sw.cpp          Locally Modified           26 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/memory/hybrid
 hybrid-memory.awb         Locally Modified           26 
 hybrid-memory-sw.cpp      Locally Modified           26 
 HybridMemory.bsv          Locally Modified           26 
 hybrid-memory-sw.h        Locally Modified           26 
 hybrid-memory-fpga-service-stub.bsh Locally Added               0 
 vmh-utils.cpp             Locally Modified           26 
 hybrid-memory-services.rrr Locally Modified           26 
 vmh-utils.h               Locally Modified           26 

Directory modules/bluespec/common/fpgaenv/virtual-platform/low-level-platform-interface
 LowLevelPlatformInterface.bsv Locally Modified           26 

Partial support for a hardware RRR server, variable-length
RRR parameters, and a richer RRR specification language:
significant changes have been made to RRR and ChannelIO
modules, but functionally all models should behave exactly
as they did before this commit (except for a noticeable
slowdown).

- altered ChannelIO interface to use vectors of read and
  write ports, to support multiple full-duplex virtual channels.

- added partial support to ChannelIO for variable-length
  parameters (currently commented out).

- added support for a hardware RRR server (incomplete).

- added a temporary placeholder stub for the hybrid Memory
  service which acts as an interface between the Service itself
  and the hardware RRR server.

- updated .rrr specification files for hybrid memory and front
  panel virtual devices according to new spec language.

- renamed some files in the RRR module.

----------
mcadler     Date: Wed Nov 28 16:55:45 EST 2007  CSN: CSN-platforms-28
                  Wed Nov 28 21:55:45 UTC 2007


Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/front-panel
 htg_v5_pcie/              Locally Added               0 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/front-panel/htg_v5_pcie
 htg-v5-pcie-fp.awb        Locally Added               0 
 HTGv5PCIeFP.bsv           Locally Added               0 

Add Hitech Global front panel.

----------
pellauer    Date: Fri Nov 30 17:12:29 EST 2007  CSN: CSN-platforms-29
                  Fri Nov 30 22:12:29 UTC 2007


Directory modules/bluespec/common/fpgaenv/toplevel-wires/xilinx
 htg-v5-pcie-TopLevelWires.bsv Locally Modified           28 
 htg-v5-pcie.ucf           Locally Modified           28 

Directory modules/bluespec/common/fpgaenv/virtual-platform/channelio/null
 NullChannelIO.bsv         Locally Modified           28 

Directory modules/bluespec/common/fpgaenv/virtual-platform/rrr
 NullRRR.bsv               Locally Modified           28 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/front-panel/htg_v5_pcie
 HTGv5PCIeFP.bsv           Locally Modified           28 

Directory modules/bluespec/common/fpgaenv
 physical-platform/        Locally Added               0 

Directory modules/bluespec/common/fpgaenv/physical-platform
 xilinx_xup/               Locally Added               0 
 htg_virtex5/              Locally Added               0 

Directory modules/bluespec/common/fpgaenv/physical-platform/htg_virtex5
 pcie-disabled/            Locally Added               0 

Directory modules/bluespec/common/fpgaenv/physical-platform/htg_virtex5/pcie-disabled
 htg-v5-pcie-disabled.awb  Locally Added               0 
 htg-v5-pcie-disabled.bsv  Locally Added               0 
 htg-v5-pcie-disabled.ucf  Locally Added               0 

Directory modules/bluespec/common/fpgaenv/physical-platform/htg_virtex5
 pcie-enabled/             Locally Added               0 

Directory modules/bluespec/common/fpgaenv/physical-platform/htg_virtex5/pcie-enabled
 htg-v5-pcie-enabled.awb   Locally Added               0 
 htg-v5-pcie-enabled.bsv   Locally Added               0 
 htg-v5-pcie-enabled.ucf   Locally Added               0 

Directory modules/bluespec/common/fpgaenv/physical-platform
 physical-devices/         Locally Added               0 

Directory modules/bluespec/common/fpgaenv/physical-platform/physical-devices
 pci-express/              Locally Added               0 

Directory modules/bluespec/common/fpgaenv/physical-platform/physical-devices/pci-express
 pci_exp_64b_app.vhd       Locally Added               0 
 BMD.vhd                   Locally Added               0 
 BMD_EP_MEM_ACCESS.vhd     Locally Added               0 
 xilinx_pci_exp_ep.vhd     Locally Added               0 
 BMD_64_RX_ENGINE.vhd      Locally Added               0 
 BMD_64_TX_ENGINE.vhd      Locally Added               0 
 pcieblkplus.vhd           Locally Added               0 
 pci-express-vhdl-import.bsv Locally Added               0 
 ram.vhd                   Locally Added               0 
 BMD_INTR_CTRL.vhd         Locally Added               0 
 BMD_EP_MEM.vhd            Locally Added               0 
 BMD_EP.vhd                Locally Added               0 
 PIO_EP_MEM_ACCESS.vhd     Locally Added               0 
 bmd_pak.vhd               Locally Added               0 
 pci-express-vhdl-import.awb Locally Added               0 

Directory modules/bluespec/common/fpgaenv/physical-platform/physical-devices
 leds/                     Locally Added               0 

Directory modules/bluespec/common/fpgaenv/physical-platform/physical-devices/leds
 general-led-device.awb    Locally Added               0 
 general-led-device.bsv    Locally Added               0 

Directory modules/bluespec/common/fpgaenv/physical-platform/physical-devices
 switches/                 Locally Added               0 

Directory modules/bluespec/common/fpgaenv/physical-platform/physical-devices/switches
 general-switch-device.awb Locally Added               0 
 general-switch-device.bsv Locally Added               0 

Directory modules/bluespec/common/fpgaenv/physical-platform/physical-devices
 buttons/                  Locally Added               0 

Directory modules/bluespec/common/fpgaenv/physical-platform/physical-devices/buttons
 general-button-device.awb Locally Added               0 
 general-button-device.bsv Locally Added               0 


The beginning of "productizing" the PCIE controller.

In this checkin the existing structure and modules are not modified, but new
things are added so that we can build them up to the organization that we want
while existing models continue to function.

Includes:
 * Extremely preliminary version of the PCIE VHDL.
 * Initial import of PCIE VHDL into BSV
 * Initial set of Physical Devices:
    * LEDs
    * Switches
    * Buttons
 * Initial Physical Platforms
    * HTG PCI Enabled
    * HTG PCI Disabled

Open question: Who instantiates the physical platform and maps the virtual
devices onto it?

Michael P.


----------
aparasha    Date: Fri Nov 30 18:02:21 EST 2007  CSN: CSN-platforms-30
                  Fri Nov 30 23:02:21 UTC 2007


Directory modules/bluespec/common/fpgaenv/virtual-platform/channelio/unix
 UNIXChannelIO.bsv         Locally Modified           29 

Directory modules/bluespec/common/fpgaenv/virtual-platform/channelio/sim
 SimChannelIO.bsv          Locally Modified           29 
 sim-channelio.h           Locally Modified           29 

Directory modules/bluespec/common/fpgaenv/virtual-platform/channelio/null
 NullChannelIO.bsv         Locally Modified           29 

Directory modules/bluespec/common/fpgaenv/virtual-platform/rrr
 NullRRR.bsv               Locally Modified           29 

- fixed a compatibility bug in UNIX channelio module
- simplified a compatibility bugfix in Null channelio module
- reduced the poll interval in Sim channelio module. Models
  simulate significantly faster now.

----------
aparasha    Date: Mon Dec 10 17:36:53 EST 2007  CSN: CSN-platforms-31
                  Mon Dec 10 22:36:53 UTC 2007


Directory modules/bluespec/common/fpgaenv/virtual-platform/channelio/sim
 SimChannelIO.bsv          Locally Modified           30 
 sim-channelio-sw.h        Locally Modified           30 
 sim-channelio.c           Locally Modified           30 
 sim-channelio.h           Locally Modified           30 
 sim-channelio.awb         Locally Modified           30 
 sim-channelio-sw.cpp      Locally Modified           30 

Directory modules/bluespec/common/fpgaenv/virtual-platform/rrr
 software-server.cpp       Locally Modified           30 
 HardwareClient.bsv        Locally Modified           30 
 HardwareServer.bsv        Locally Modified           30 

Updated ChannelIO (sim):

- variable-length messages are now supported for all channels in
  both directions.

- created a Unified Message Format (UMF) which is used by multiple
  layers in the RRR stack. A UMF message contains a pre-decoded
  header with IDs and data-lengths for multiple stack layers.

- added an explicit priority arbiter to arbitrate between multiple
  virtual write channels on the hardware side.

- modified hardware RRR client and software server modules to use
  the new ChannelIO, but no changes have been made to their existing
  fixed-size parameter usage. These modules need to be cleaned up
  and generalized.

These changes should be completely invisible outside channelio
and RRR.

----------
aparasha    Date: Tue Dec 11 12:15:22 EST 2007  CSN: CSN-platforms-32
                  Tue Dec 11 17:15:22 UTC 2007


Directory modules/bluespec/common/fpgaenv/virtual-platform/channelio/sim
 sim-channelio.c           Locally Removed            31 
 sim-channelio.cpp         Locally Added               0 
 umf.cpp                   Locally Added               0 
 sim-channelio-bdpi.h      Locally Added               0 
 sim-channelio.h           Locally Modified           31 
 umf.h                     Locally Added               0 
 sim-channelio.awb         Locally Modified           31 
 sim-channelio-sw.cpp      Locally Removed            31 
 sim-channelio.bsv         Locally Added               0 
 SimChannelIO.bsv          Locally Removed            31 
 umf.bsh                   Locally Added               0 
 sim-channelio-sw.h        Locally Removed            31 
 sim-channelio-bdpi.c      Locally Added               0 

Directory modules/bluespec/common/fpgaenv/virtual-platform/rrr
 software-server.h         Locally Modified           30 

Slight cleanup and of sim-channelio.

----------
pellauer    Date: Wed Dec 12 11:44:16 EST 2007  CSN: CSN-platforms-33
                  Wed Dec 12 16:44:16 UTC 2007


Directory config/pm/hasim/submodels/fpgaenv
 hasim-fpgaenv-fsb-afu.apm Locally Modified           32 
 hasim-fpgaenv-software-no-gui.apm Locally Modified           32 
 hasim-fpgaenv-hybrid-sim.apm Locally Modified           32 
 hasim-fpgaenv-htg-v5-pcie.apm Locally Modified           32 
 hasim-fpgaenv-null.apm    Locally Modified           32 
 hasim-fpgaenv-software.apm Locally Modified           32 
 hasim-fpgaenv-xup.apm     Locally Modified           32 
 hasim-fpgaenv-fsb-dme.apm Locally Modified           32 

Directory modules/bluespec/common/fpgaenv/virtual-platform/channelio/unix
 UNIXChannelIO.bsv         Locally Modified           32 

Directory modules/bluespec/common/fpgaenv/virtual-platform/channelio/sim
 sim-channelio.bsv         Locally Modified           32 

Directory modules/bluespec/common/fpgaenv/virtual-platform/channelio/null
 NullChannelIO.bsv         Locally Modified           32 

Directory modules/bluespec/common/fpgaenv/virtual-platform/low-level-platform-interface
 LowLevelPlatformInterface.bsv Locally Modified           32 
 low-level-platform-interface.awb Locally Modified           32 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/front-panel/fsb_dme
 FSB_DME_FP.bsv            Locally Modified           32 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/front-panel/hybrid
 HybridFP.bsv              Locally Modified           32 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/front-panel/console
 NullFP.bsv                Locally Modified           32 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/front-panel/fsb_afu
 FSB_AFU_FP.bsv            Locally Modified           32 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/front-panel/graphical
 GraphicalFP.bsv           Locally Modified           32 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/front-panel/xup
 XUPFP.bsv                 Locally Modified           32 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/front-panel/htg_v5_pcie
 HTGv5PCIeFP.bsv           Locally Modified           32 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/memory/simulation
 BRAMMemory.bsv            Locally Modified           32 

Directory modules/bluespec/common/fpgaenv/physical-platform/xilinx_xup
 xup-physical-platform.awb Locally Added               0 
 xup-physical-platform.bsv Locally Added               0 
 xilinx.download           Locally Added               0 
 xilinx.ut                 Locally Added               0 
 xup.ucf                   Locally Added               0 
 xilinx.xst                Locally Added               0 

Directory modules/bluespec/common/fpgaenv/physical-platform/htg_virtex5/pcie-disabled
 htg-v5-pcie-disabled.awb  Locally Modified           32 

Directory modules/bluespec/common/fpgaenv/physical-platform/htg_virtex5/pcie-enabled
 xilinx.download           Locally Added               0 
 xilinx.ut                 Locally Added               0 
 htg-v5-pcie-enabled.awb   Locally Modified           32 
 xilinx.xst                Locally Added               0 
 htg-v5-pcie-enabled.bsv   Locally Modified           32 
 htg-v5-pcie-enabled.ucf   Locally Modified           32 

Directory modules/bluespec/common/fpgaenv/physical-platform
 null/                     Locally Added               0 

Directory modules/bluespec/common/fpgaenv/physical-platform/null
 null-physical-platfrom.bsv Locally Added               0 
 null-physical-platfrom.awb Locally Added               0 

Directory modules/bluespec/common/fpgaenv/physical-platform/physical-devices/pci-express
 pcieblkplus.ngc           Locally Added               0 
 ram.ngc                   Locally Added               0 
 pci-express-vhdl-import.bsv Locally Modified           32 
 pci-express-vhdl-import.awb Locally Modified           32 

Directory modules/bluespec/common/fpgaenv/physical-platform/physical-devices/leds
 general-led-device.awb    Locally Modified           32 
 general-led-device.bsv    Locally Modified           32 

Directory modules/bluespec/common/fpgaenv/physical-platform/physical-devices/switches
 general-switch-device.awb Locally Modified           32 
 general-switch-device.bsv Locally Modified           32 

Directory modules/bluespec/common/fpgaenv/physical-platform/physical-devices/buttons
 general-button-device.awb Locally Modified           32 
 general-button-device.bsv Locally Modified           32 


physical_platforms replaces toplevel_wires as the way to represent the physical wires (and the way
that the wires are driven). All references to TopLevelWires should be expunged.

The HTG physical platform is in place, and XUP has also been rolled over to the new system.
Simulation platforms should still work too.

TBD: Remove obsolete files. Rename "physical-devices" and other things to their final names.

Michael P.

----------
mcadler     Date: Wed Dec 12 18:29:47 EST 2007  CSN: CSN-platforms-34
                  Wed Dec 12 23:29:47 UTC 2007


Directory modules/bluespec/common/fpgaenv/virtual-platform/channelio/unix
 unix-channelio.awb        Locally Modified           33 

Explicit tagging of BDPI_C.

----------
aparasha    Date: Sun Dec 16 16:13:21 EST 2007  CSN: CSN-platforms-35
                  Sun Dec 16 21:13:21 UTC 2007


Directory config/pm/hasim/submodels/fpgaenv
 hasim-fpgaenv-fsb-afu.apm Locally Modified           34 
 hasim-fpgaenv-software-no-gui.apm Locally Modified           34 
 hasim-fpgaenv-hybrid-sim.apm Locally Modified           34 
 hasim-fpgaenv-htg-v5-pcie.apm Locally Modified           34 
 hasim-fpgaenv-null.apm    Locally Modified           34 
 hasim-fpgaenv-software.apm Locally Modified           34 
 hasim-fpgaenv-xup.apm     Locally Modified           34 
 hasim-fpgaenv-fsb-dme.apm Locally Modified           34 

Directory modules/bluespec/common/fpgaenv/virtual-platform/channelio/sim
 sim-channelio.bsv         Locally Modified           34 
 physical-channel.cpp      Locally Added               0 
 sim-channelio.cpp         Locally Modified           34 
 umf.cpp                   Locally Modified           34 
 physical-channel.h        Locally Added               0 
 sim-channelio.h           Locally Modified           34 
 umf.h                     Locally Modified           34 
 sim-channelio.awb         Locally Modified           34 

Directory modules/bluespec/common/fpgaenv/virtual-platform/rrr
 software-server.cpp       Locally Removed            34 
 basic/                    Locally Added               0 

Directory modules/bluespec/common/fpgaenv/virtual-platform/rrr/basic
 basic-rrr.bsh             Locally Added               0 
 basic-rrr-server.bsv      Locally Added               0 
 basic-rrr-client.cpp      Locally Added               0 
 basic-rrr-client.h        Locally Added               0 
 basic-rrr-server.cpp      Locally Added               0 
 basic-rrr-client.bsv      Locally Added               0 
 basic-rrr.awb             Locally Added               0 
 basic-rrr-server.h        Locally Added               0 

Directory modules/bluespec/common/fpgaenv/virtual-platform/rrr
 software-server.h         Locally Removed            34 
 null-rrr.awb              Locally Removed            34 
 HardwareClient.bsv        Locally Removed            34 
 rrr_common.bsh            Locally Removed            34 
 NullRRR.bsv               Locally Removed            34 
 null/                     Locally Added               0 

Directory modules/bluespec/common/fpgaenv/virtual-platform/rrr/null
 null-rrr.awb              Locally Added               0 
 null-rrr.bsv              Locally Added               0 

Directory modules/bluespec/common/fpgaenv/virtual-platform/rrr
 rrr.awb                   Locally Removed            34 
 HardwareServer.bsv        Locally Removed            34 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/front-panel/hybrid
 HybridFP.bsv              Locally Modified           34 
 hybrid-fp-sw.h            Locally Modified           34 
 hybrid-fp-sw.cpp          Locally Modified           34 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/memory/hybrid
 hybrid-memory-sw.cpp      Locally Modified           34 
 hybrid-memory-sw.h        Locally Modified           34 
 vmh-utils.h               Locally Modified           34 

- additional support for software-client/hardware server. Not yet functional.
  All models behave as before.
- minor re-organization of RRR directory structure
- removed references to TOPWIRES_LEDS and TOPWIRES_SWITCHES from HybridFP.bsv.

----------
aparasha    Date: Tue Dec 18 09:22:14 EST 2007  CSN: CSN-platforms-36
                  Tue Dec 18 14:22:14 UTC 2007


Directory modules/bluespec/common/fpgaenv/virtual-platform/channelio/sim
 sim-channelio.bsv         Locally Modified           35 
 umf.bsh                   Locally Modified           35 
 umf.cpp                   Locally Modified           35 
 sim-channelio.awb         Locally Modified           35 

Directory modules/bluespec/common/fpgaenv/virtual-platform/rrr/basic
 basic-rrr-server.bsv      Locally Modified           35 
 basic-rrr-client.bsv      Locally Modified           35 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/memory/hybrid
 hybrid-memory-sw.cpp      Locally Modified           35 
 HybridMemory.bsv          Locally Modified           35 
 hybrid-memory-fpga-service-stub.bsh Locally Modified           35 

- modified hardware-side UMF structure to store size of message
  in number of chunks instead of number of bytes. This avoids
  having to re-compute number of chunks at multiple levels in
  the hierarchy. Exact number of bytes only matters at the stub
  level, which are already aware of these sizes (since they are
  auto-generated from RRR files).

- fixed some bugs in hardware RRR server.

----------
aparasha    Date: Sun Dec 23 12:14:55 EST 2007  CSN: CSN-platforms-37
                  Sun Dec 23 17:14:55 UTC 2007


Directory modules/bluespec/common/fpgaenv/virtual-platform/rrr/basic
 basic-rrr-server.bsv      Locally Modified           36 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/memory/hybrid
 HybridMemory.bsv          Locally Modified           36 
 hybrid-memory-services.bsh Locally Added               0 
 hybrid-memory-fpga-service-stub.bsh Locally Removed            36 
 hybrid-memory-services.rrr Locally Modified           35 
 hybrid-memory.awb         Locally Modified           35 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/front-panel/hybrid
 hybrid-fp-services.rrr    Locally Modified           35 

- slight re-distribution of logic between demarshaller module and
  hardware service stub
- updated .rrr file format
- replaced hybrid memory service stub with one autogenerated by
  the updated stubgen. This file is currently placed manually in
  the build tree only because the build process has not yet been
  updated to invoke stubgen to create the stub.

----------
aparasha    Date: Sat Dec 29 19:55:15 EST 2007  CSN: CSN-platforms-38
                  Sun Dec 30 00:55:15 UTC 2007


Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/front-panel/hybrid
 hybrid-fp-services.rrr    Locally Modified           37 
 hybrid-fp-sw.cpp          Locally Modified           36 
 HybridFP.bsv              Locally Modified           36 
 hybrid-fp-sw.h            Locally Modified           36 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/memory/hybrid
 hybrid-memory-services.bsh Locally Removed            37 
 hybrid-memory.awb         Locally Modified           37 

- removed explicit hardware service stub from hybrid memory. Hardware
  service stubs are now generated automatically during configure.
- updated hybrid front panel to use new software client/hardware server
  path to send switch/button updates to hardware.

----------
aparasha    Date: Wed Jan  9 17:54:45 EST 2008  CSN: CSN-platforms-39
                  Wed Jan  9 22:54:45 UTC 2008


Directory modules/bluespec/common/fpgaenv/virtual-platform/rrr/basic
 basic-rrr.bsh             Locally Modified           38 
 basic-rrr-client.cpp      Locally Modified           38 
 basic-rrr-client.h        Locally Modified           38 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/front-panel/hybrid
 hybrid-fp-sw.cpp          Locally Modified           38 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/memory/hybrid
 hybrid-memory-sw.cpp      Locally Modified           38 

minor updates required due to the modifications to
software main().

----------
aparasha    Date: Thu Jan 10 13:26:50 EST 2008  CSN: CSN-platforms-40
                  Thu Jan 10 18:26:50 UTC 2008


Directory modules/bluespec/common/fpgaenv/hardware-platform
 pcie/                     Locally Removed            38 

Directory modules/bluespec/common/fpgaenv/hardware-platform/pcie
 PCIe.bsv                  Locally Removed            38 
 pcie_hardware_platform.awb Locally Removed            38 

Directory modules/bluespec/common/fpgaenv
 hardware-platform/        Locally Removed            38 

- removed the obsolete hardware-platform/ directory.

----------
aparasha    Date: Thu Jan 10 15:03:13 EST 2008  CSN: CSN-platforms-41
                  Thu Jan 10 20:03:13 UTC 2008


Directory modules/bluespec/common/fpgaenv/virtual-platform/channelio/sim
 physical-channel.cpp      Locally Modified           39 
 umf.cpp                   Locally Modified           39 
 sim-channelio.h           Locally Modified           39 
 umf.h                     Locally Modified           39 

Directory modules/bluespec/common/fpgaenv/virtual-platform/rrr/basic
 basic-rrr-server.cpp      Locally Modified           39 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/front-panel/hybrid
 hybrid-fp-sw.cpp          Locally Modified           39 

- slightly enhanced marshalling/demarshalling capabilities
  built into the software UMF class
- cleaned up some code in rrr-server and devices as a result
  of above enhancements

----------
aparasha    Date: Thu Jan 10 19:02:25 EST 2008  CSN: CSN-platforms-42
                  Fri Jan 11 00:02:25 UTC 2008


Directory modules/bluespec/common/fpgaenv/virtual-platform/channelio/sim
 umf.cpp                   Locally Modified           41 

Directory modules/bluespec/common/fpgaenv/virtual-platform/rrr/basic
 basic-rrr-server.bsv      Locally Modified           41 

- bugfixes to hardware server request demarshaller

----------
aparasha    Date: Thu Jan 10 21:41:29 EST 2008  CSN: CSN-platforms-43
                  Fri Jan 11 02:41:29 UTC 2008


Directory modules/bluespec/common/fpgaenv/virtual-platform/channelio/sim
 sim-channelio.cpp         Locally Modified           41 
 physical-channel.h        Locally Modified           41 
 sim-channelio.h           Locally Modified           41 
 physical-channel.cpp      Locally Modified           41 

- fixed unclean exit bug

----------
aparasha    Date: Sat Jan 12 13:08:18 EST 2008  CSN: CSN-platforms-44
                  Sat Jan 12 18:08:18 UTC 2008


Directory modules/bluespec/common/fpgaenv/virtual-platform/channelio/pci-express
 pcie-channelio.cpp        Locally Added               0 
 physical-channel/         Locally Added               0 

Directory modules/bluespec/common/fpgaenv/virtual-platform/channelio/pci-express/physical-channel
 physical-channel.cpp      Locally Added               0 
 physical-channel.h        Locally Added               0 
 physical-channel.awb      Locally Added               0 
 physical-channel.bsv      Locally Added               0 

Directory modules/bluespec/common/fpgaenv/virtual-platform/channelio/pci-express
 pcie-channelio.h          Locally Added               0 
 pcie-channelio.awb        Locally Added               0 
 umf/                      Locally Added               0 

Directory modules/bluespec/common/fpgaenv/virtual-platform/channelio/pci-express/umf
 basic-umf.bsh             Locally Added               0 
 basic-umf.cpp             Locally Added               0 
 basic-umf.h               Locally Added               0 
 basic-umf.awb             Locally Added               0 

Directory modules/bluespec/common/fpgaenv/virtual-platform/channelio/pci-express
 pcie-channelio.bsv        Locally Added               0 

Directory modules/bluespec/common/fpgaenv/virtual-platform/channelio
 pci-express/              Locally Added               0 

- added a new PCI-express channelio module. This will later be unified
  with the existing sim (and probably unix) channelio modules to form
  a generic channelio module, requiring a platform-specific "physical
  channel" submodule, and a generic "umf" submodule.

- added a PCI-express CSR-based physical channel module which creates
  a FIFO interface on top of the CSR interface provided by the pci-e
  physical platform.
  - The available CSRs are split into two segments, one for each
    direction.
  - Four CSRs are dedicated for use as head and tail pointers.
  - Since the CSR interface provides only one read and one write port,
    these ports are arbitrated between data and pointer requests.
  - Pointer update requests are sent out intermittently. Correctness
    is guaranteed, but efficiency could be improved.
  BSV code for the physical channel is being uploaded with this commit,
  but remains untested. C code is not yet ready.

----------
mcadler     Date: Wed Jan 30 18:02:58 EST 2008  CSN: CSN-platforms-45
                  Wed Jan 30 23:02:58 UTC 2008


Directory modules/bluespec/common/fpgaenv/physical-platform/xilinx_xup
 xup-physical-platform.awb Locally Modified           44 

Directory modules/bluespec/common/fpgaenv/physical-platform/htg_virtex5/pcie-enabled
 htg-v5-pcie-enabled.awb   Locally Modified           44 

Directory drivers/linux
 hasim/                    Locally Added               0 

Directory drivers/linux/hasim
 hasim-fpga-ctrl.c         Locally Added               0 
 kernel/                   Locally Added               0 

Directory drivers/linux/hasim/kernel
 pchnl_if.h                Locally Added               0 
 pchnl_main.c              Locally Added               0 
 Makefile                  Locally Added               0 
 README                    Locally Added               0 
 pchnl_main.h              Locally Added               0 

Directory drivers/linux/hasim
 README.dev                Locally Added               0 
 Makefile                  Locally Added               0 

Directory drivers/linux/Xilinx_Platform_Cable/windriver/linux_drivers/windriver64/windrvr
 wdreg                     Locally Modified           44 

First version of PCIe driver and control program.  Both are installed
on any machine with a PCIe FPGA in /usr/hasim.  The new program
/usr/hasim/bin/hasim-fpga-ctrl controls the state of the PCIe bus
and programming cables, making user-mode access available to the
programming cable and FPGA kernel drivers only when everything is
in the right states.

----------
mcadler     Date: Wed Jan 30 20:19:08 EST 2008  CSN: CSN-platforms-46
                  Thu Jan 31 01:19:08 UTC 2008


Directory drivers/linux/hasim
 README                    Locally Added               0 

Add a README file describing the build/installation procedure.

----------
mcadler     Date: Sat Feb  2 11:29:55 EST 2008  CSN: CSN-platforms-47
                  Sat Feb  2 16:29:55 UTC 2008


Directory modules/bluespec/common/fpgaenv/virtual-platform/rrr/basic
 basic-rrr-server.bsv      Locally Modified           46 

New compiler requires proviso for extend.

----------
mcadler     Date: Mon Feb  4 18:49:40 EST 2008  CSN: CSN-platforms-48
                  Mon Feb  4 23:49:40 UTC 2008


Directory modules/bluespec/common/fpgaenv/virtual-platform/channelio/pci-express/physical-channel
 physical-channel.awb      Locally Modified           47 

Directory modules/bluespec/common/fpgaenv/virtual-platform/channelio/pci-express
 pcie-channelio.awb        Locally Modified           47 

Directory modules/bluespec/common/fpgaenv/virtual-platform/channelio/pci-express/umf
 basic-umf.awb             Locally Modified           47 

Directory modules/bluespec/common/fpgaenv/virtual-platform/channelio/sim
 sim-channelio.awb         Locally Modified           47 

Directory modules/bluespec/common/fpgaenv/virtual-platform/rrr/basic
 basic-rrr-server.bsv      Locally Modified           47 
 basic-rrr.awb             Locally Modified           47 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/front-panel/hybrid
 HybridFP.bsv              Locally Modified           47 
 hybrid-fp.awb             Locally Modified           47 
 hybrid-fp-sw.cpp          Locally Modified           47 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/memory/hybrid
 hybrid-memory.awb         Locally Modified           47 
 hybrid-memory-sw.cpp      Locally Modified           47 
 HybridMemory.bsv          Locally Modified           47 

Changes for build environment update.

----------
aparasha    Date: Thu Feb  7 18:12:58 EST 2008  CSN: CSN-platforms-49
                  Thu Feb  7 23:12:58 UTC 2008


Directory config/pm/hasim/submodels/fpgaenv
 hasim-fpgaenv-fsb-afu.apm Locally Modified           48 
 hasim-fpgaenv-software-no-gui.apm Locally Modified           48 
 hasim-fpgaenv-hybrid-sim.apm Locally Modified           48 
 hasim-fpgaenv-htg-v5-pcie.apm Locally Modified           48 
 hasim-fpgaenv-null.apm    Locally Modified           48 
 hasim-fpgaenv-software.apm Locally Modified           48 
 hasim-fpgaenv-xup.apm     Locally Modified           48 
 hasim-fpgaenv-fsb-dme.apm Locally Modified           48 

Directory modules/bluespec/common/fpgaenv/virtual-platform/channelio/pci-express
 pcie-channelio.cpp        Locally Modified           48 

Directory modules/bluespec/common/fpgaenv/virtual-platform/channelio/pci-express/physical-channel
 driver-interface.h        Locally Added               0 
 libpchnl.h                Locally Added               0 
 physical-channel.cpp      Locally Modified           48 
 physical-channel.h        Locally Modified           48 
 pchnl_if.h                Locally Added               0 
 physical-channel.awb      Locally Modified           48 
 driver-interface.cpp      Locally Added               0 
 physical-channel.bsv      Locally Modified           48 
 libpchnl.c                Locally Added               0 

Directory modules/bluespec/common/fpgaenv/virtual-platform/channelio/pci-express
 pcie-channelio.awb        Locally Modified           48 
 umf/                      Locally Removed            48 

Directory modules/bluespec/common/fpgaenv/virtual-platform/channelio/pci-express/umf
 basic-umf.bsh             Locally Removed            48 
 basic-umf.cpp             Locally Removed            48 
 basic-umf.h               Locally Removed            48 
 basic-umf.awb             Locally Removed            48 

Directory modules/bluespec/common/fpgaenv/virtual-platform/channelio/pci-express
 pcie-channelio.bsv        Locally Modified           48 

Directory modules/bluespec/common/fpgaenv/virtual-platform/channelio/sim
 umf.bsh                   Locally Removed            48 
 umf.cpp                   Locally Removed            48 
 physical-channel.h        Locally Modified           48 
 sim-channelio.h           Locally Modified           48 
 umf.h                     Locally Removed            48 
 sim-channelio.awb         Locally Modified           48 

Directory modules/bluespec/common/fpgaenv/virtual-platform/rrr/basic
 basic-rrr-server.bsv      Locally Modified           48 
 basic-rrr-client.cpp      Locally Modified           48 
 basic-rrr-client.h        Locally Modified           48 
 basic-rrr-client.bsv      Locally Modified           48 
 basic-rrr-server.h        Locally Modified           48 

Directory modules/bluespec/common/fpgaenv/virtual-platform
 umf/                      Locally Added               0 

Directory modules/bluespec/common/fpgaenv/virtual-platform/umf
 null/                     Locally Added               0 

Directory modules/bluespec/common/fpgaenv/virtual-platform/umf/null
 null-umf.awb              Locally Added               0 

Directory modules/bluespec/common/fpgaenv/virtual-platform/umf
 simple-32/                Locally Added               0 

Directory modules/bluespec/common/fpgaenv/virtual-platform/umf/simple-32
 simple-32-umf.cpp         Locally Added               0 
 simple-32-umf.h           Locally Added               0 
 simple-32-umf.awb         Locally Added               0 
 simple-32-umf.bsv         Locally Added               0 

Directory modules/bluespec/common/fpgaenv/virtual-platform
 std-virtual-platform.awb  Locally Modified           48 
 fast-virtual-platform.awb Locally Modified           48 

Directory modules/bluespec/common/fpgaenv/physical-platform/htg_virtex5/pcie-enabled
 htg-v5-pcie-enabled.bsv   Locally Modified           48 
 htg-v5-pcie-enabled.ucf   Locally Modified           48 

Directory modules/bluespec/common/fpgaenv/physical-platform/physical-devices/pci-express
 h2f_data_fifo.ngc         Locally Added               0 
 f2h_data_fifo.ngc         Locally Added               0 
 pci_exp_64b_app.vhd       Locally Removed            48 
 BMD.vhd                   Locally Removed            48 
 pcieblkplus.ngc           Locally Modified           48 
 ram.ngc                   Locally Modified           48 
 BMD_EP_MEM_ACCESS.vhd     Locally Removed            48 
 xilinx_pci_exp_ep.vhd     Locally Removed            48 
 channel.vhd               Locally Added               0 
 BMD_64_RX_ENGINE.vhd      Locally Removed            48 
 f2h_data_fifo.vhd         Locally Added               0 
 BMD_64_TX_ENGINE.vhd      Locally Removed            48 
 h2f_data_fifo.vhd         Locally Added               0 
 pcieblkplus.vhd           Locally Modified           48 
 pci-express-vhdl-import.bsv Locally Modified           48 
 CSR_BRAM.ngc              Locally Added               0 
 PCIE_RX_ENGINE.vhd        Locally Added               0 
 ram.vhd                   Locally Modified           48 
 INTR_CONTROLLER.vhd       Locally Added               0 
 PCIE_TX_ENGINE.vhd        Locally Added               0 
 BMD_INTR_CTRL.vhd         Locally Removed            48 
 PCIE_BAR0.vhd             Locally Added               0 
 BMD_EP_MEM.vhd            Locally Removed            48 
 BMD_EP.vhd                Locally Removed            48 
 CSR_BRAM.vhd              Locally Added               0 
 PIO_EP_MEM_ACCESS.vhd     Locally Removed            48 
 CSR_CONTROLLER.vhd        Locally Added               0 
 Channel_top.vhd           Locally Added               0 
 bmd_pak.vhd               Locally Removed            48 
 pci-express-vhdl-import.awb Locally Modified           48 

- updated pci-express physical device with latest
  VHDL modules from CBL
- added BVI interface to new CBL module (includes
  clock synchronizers)
- updated PCIE-CSR Channel's algorithm, fixed several
  bugs
- added a debugging state machine to PCIE-CSR module

----------
aparasha    Date: Fri Feb  8 13:21:06 EST 2008  CSN: CSN-platforms-49
                  Fri Feb  8 18:21:06 UTC 2008


Directory config/pm/hasim/submodels/fpgaenv
 hasim-fpgaenv-fsb-afu.apm Locally Modified           48 
 hasim-fpgaenv-software-no-gui.apm Locally Modified           48 
 hasim-fpgaenv-hybrid-sim.apm Locally Modified           48 
 hasim-fpgaenv-htg-v5-pcie.apm Locally Modified           48 
 hasim-fpgaenv-null.apm    Locally Modified           48 
 hasim-fpgaenv-software.apm Locally Modified           48 
 hasim-fpgaenv-xup.apm     Locally Modified           48 
 hasim-fpgaenv-fsb-dme.apm Locally Modified           48 

Directory admin
 mytags                    Locally Modified           48 

Directory admin/packages
 platforms                 Locally Modified           48 

Directory modules/bluespec/common/fpgaenv/virtual-platform/channelio/pci-express
 pcie-channelio.cpp        Locally Modified           48 

Directory modules/bluespec/common/fpgaenv/virtual-platform/channelio/pci-express/physical-channel
 driver-interface.h        Locally Added               0 
 libpchnl.h                Locally Added               0 
 physical-channel.cpp      Locally Modified           48 
 physical-channel.h        Locally Modified           48 
 pchnl_if.h                Locally Added               0 
 physical-channel.awb      Locally Modified           48 
 driver-interface.cpp      Locally Added               0 
 physical-channel.bsv      Locally Modified           48 
 libpchnl.c                Locally Added               0 

Directory modules/bluespec/common/fpgaenv/virtual-platform/channelio/pci-express
 pcie-channelio.h          Locally Modified           48 
 pcie-channelio.awb        Locally Modified           48 
 umf/                      Locally Removed            48 

Directory modules/bluespec/common/fpgaenv/virtual-platform/channelio/pci-express/umf
 basic-umf.bsh             Locally Removed            48 
 basic-umf.cpp             Locally Removed            48 
 basic-umf.h               Locally Removed            48 
 basic-umf.awb             Locally Removed            48 

Directory modules/bluespec/common/fpgaenv/virtual-platform/channelio/pci-express
 pcie-channelio.bsv        Locally Modified           48 

Directory modules/bluespec/common/fpgaenv/virtual-platform/channelio/sim
 umf.bsh                   Locally Removed            48 
 umf.cpp                   Locally Removed            48 
 physical-channel.h        Locally Modified           48 
 sim-channelio.h           Locally Modified           48 
 umf.h                     Locally Removed            48 
 sim-channelio.awb         Locally Modified           48 

Directory modules/bluespec/common/fpgaenv/virtual-platform/rrr/basic
 basic-rrr-server.bsv      Locally Modified           48 
 basic-rrr-client.cpp      Locally Modified           48 
 basic-rrr-client.h        Locally Modified           48 
 basic-rrr-server.cpp      Locally Modified           48 
 basic-rrr-client.bsv      Locally Modified           48 
 basic-rrr-server.h        Locally Modified           48 

Directory modules/bluespec/common/fpgaenv/virtual-platform
 umf/                      Locally Added               0 

Directory modules/bluespec/common/fpgaenv/virtual-platform/umf
 null/                     Locally Added               0 

Directory modules/bluespec/common/fpgaenv/virtual-platform/umf/null
 null-umf.awb              Locally Added               0 

Directory modules/bluespec/common/fpgaenv/virtual-platform/umf
 simple-32/                Locally Added               0 

Directory modules/bluespec/common/fpgaenv/virtual-platform/umf/simple-32
 simple-32-umf.cpp         Locally Added               0 
 simple-32-umf.h           Locally Added               0 
 simple-32-umf.awb         Locally Added               0 
 simple-32-umf.bsv         Locally Added               0 

Directory modules/bluespec/common/fpgaenv/virtual-platform
 std-virtual-platform.awb  Locally Modified           48 
 fast-virtual-platform.awb Locally Modified           48 

Directory modules/bluespec/common/fpgaenv/physical-platform/htg_virtex5/pcie-enabled
 htg-v5-pcie-enabled.bsv   Locally Modified           48 
 htg-v5-pcie-enabled.ucf   Locally Modified           48 

Directory modules/bluespec/common/fpgaenv/physical-platform/physical-devices/pci-express
 h2f_data_fifo.ngc         Locally Added               0 
 f2h_data_fifo.ngc         Locally Added               0 
 pci_exp_64b_app.vhd       Locally Removed            48 
 BMD.vhd                   Locally Removed            48 
 pcieblkplus.ngc           Locally Modified           48 
 ram.ngc                   Locally Modified           48 
 BMD_EP_MEM_ACCESS.vhd     Locally Removed            48 
 xilinx_pci_exp_ep.vhd     Locally Removed            48 
 channel.vhd               Locally Added               0 
 BMD_64_RX_ENGINE.vhd      Locally Removed            48 
 f2h_data_fifo.vhd         Locally Added               0 
 BMD_64_TX_ENGINE.vhd      Locally Removed            48 
 h2f_data_fifo.vhd         Locally Added               0 
 pcieblkplus.vhd           Locally Modified           48 
 pci-express-vhdl-import.bsv Locally Modified           48 
 CSR_BRAM.ngc              Locally Added               0 
 PCIE_RX_ENGINE.vhd        Locally Added               0 
 ram.vhd                   Locally Modified           48 
 INTR_CONTROLLER.vhd       Locally Added               0 
 PCIE_TX_ENGINE.vhd        Locally Added               0 
 BMD_INTR_CTRL.vhd         Locally Removed            48 
 PCIE_BAR0.vhd             Locally Added               0 
 BMD_EP_MEM.vhd            Locally Removed            48 
 BMD_EP.vhd                Locally Removed            48 
 CSR_BRAM.vhd              Locally Added               0 
 PIO_EP_MEM_ACCESS.vhd     Locally Removed            48 
 CSR_CONTROLLER.vhd        Locally Added               0 
 Channel_top.vhd           Locally Added               0 
 bmd_pak.vhd               Locally Removed            48 
 pci-express-vhdl-import.awb Locally Modified           48 

Directory .
 changes                   Locally Modified           48 

- added a debugging state machine into the CSR-based physical
  channel module
- updated support for PCI-Express CSR-based physical channel
- updated HTG PCI-Express Driver with latest LX50T-targeted
  code from CBL
- split UMF away from physical channel into a separate module
- multiple misc. bugfixes, updates, additions.

----------
mcadler     Date: Fri Feb  8 15:30:38 EST 2008  CSN: CSN-platforms-50
                  Fri Feb  8 20:30:38 UTC 2008


Directory config/pm/hasim/submodels/fpgaenv
 hasim-fpgaenv-htg-v5-pcie.apm Locally Modified           49 

Directory modules/bluespec/common/fpgaenv/virtual-platform/channelio/sim
 physical-channel.cpp      Locally Modified           49 

Directory modules/bluespec/common/fpgaenv/physical-platform/htg_virtex5/pcie-disabled
 htg-v5-pcie-disabled.ucf  Locally Modified           49 

Directory modules/bluespec/common/fpgaenv/physical-platform/htg_virtex5/pcie-enabled
 htg-v5-pcie-enabled.awb   Locally Modified           49 
 htg-v5-pcie-enabled.ucf   Locally Modified           49 

-Switch to LX110T
-More error state when failing to start up

----------
aparasha    Date: Fri Feb  8 16:48:26 EST 2008  CSN: CSN-platforms-51
                  Fri Feb  8 21:48:26 UTC 2008


Directory modules/bluespec/common/fpgaenv/physical-platform/htg_virtex5/pcie-enabled
 htg-v5-pcie-enabled.ucf   Locally Modified           50 

Directory modules/bluespec/common/fpgaenv/physical-platform/physical-devices/pci-express
 h2f_data_fifo.ngc         Locally Modified           50 
 f2h_data_fifo.ngc         Locally Modified           50 
 pcieblkplus.ngc           Locally Modified           50 
 ram.ngc                   Locally Modified           50 
 f2h_data_fifo.vhd         Locally Modified           50 
 h2f_data_fifo.vhd         Locally Modified           50 
 pcieblkplus.vhd           Locally Modified           50 
 CSR_BRAM.ngc              Locally Modified           50 
 ram.vhd                   Locally Modified           50 
 CSR_BRAM.vhd              Locally Modified           50 

Completed update of PCIe physical platform to 110T specs.

----------
aparasha    Date: Mon Feb 11 21:45:23 EST 2008  CSN: CSN-platforms-53
                  Tue Feb 12 02:45:23 UTC 2008


Directory modules/bluespec/common/fpgaenv/virtual-platform/channelio/pci-express/physical-channel
 physical-channel.cpp      Locally Modified           50 
 driver-interface.cpp      Locally Modified           50 

Directory modules/bluespec/common/fpgaenv/virtual-platform/rrr/basic
 basic-rrr.bsh             Locally Modified           50 
 basic-rrr-client.cpp      Locally Modified           50 
 basic-rrr-server.cpp      Locally Modified           50 
 basic-rrr-client.bsv      Locally Modified           50 
 basic-rrr-server.h        Locally Modified           50 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/front-panel/hybrid
 HybridFP.bsv              Locally Modified           50 
 hybrid-fp-sw.h            Locally Modified           50 
 hybrid-fp-sw.cpp          Locally Modified           50 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices
 std-virtual-devices.awb   Locally Modified           50 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/memory/hybrid
 hybrid-memory-sw.cpp      Locally Modified           50 
 HybridMemory.bsv          Locally Modified           50 
 hybrid-memory-sw.h        Locally Modified           50 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices
 streams/                  Locally Added               0 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/streams
 streams-common.bsh        Locally Added               0 
 asserts.dic               Locally Added               0 
 hybrid-streams-services.rrr Locally Added               0 
 hybrid-streams.h          Locally Added               0 
 bak.bsv                   Locally Added               0 
 hybrid-streams.bsv        Locally Added               0 
 mem-test.dic              Locally Added               0 
 simulation-streams.bsv    Locally Added               0 
 stats.dic                 Locally Added               0 
 events.dic                Locally Added               0 
 hybrid-streams.awb        Locally Added               0 
 messages.dic              Locally Added               0 
 simulation-streams.awb    Locally Added               0 
 streams.dic               Locally Added               0 
 hybrid-streams.cpp        Locally Added               0 

Directory modules/bluespec/common/fpgaenv/virtual-platform/umf/simple-32
 simple-32-umf.cpp         Locally Modified           50 
 simple-32-umf.h           Locally Modified           50 

Directory config/pm/hasim/submodels/fpgaenv
 hasim-fpgaenv-fsb-afu.apm Locally Modified           50 
 hasim-fpgaenv-software-no-gui.apm Locally Modified           50 
 hasim-fpgaenv-hybrid-sim.apm Locally Modified           50 
 hasim-fpgaenv-htg-v5-pcie.apm Locally Modified           50 
 hasim-fpgaenv-null.apm    Locally Modified           50 
 hasim-fpgaenv-software.apm Locally Modified           50 
 hasim-fpgaenv-xup.apm     Locally Modified           50 
 hasim-fpgaenv-fsb-dme.apm Locally Modified           50 

- added streams as a virtual device
- reworked streams to now use dictionaries
- misc. minor bugfixes and enhancements to channelio and RRR
- modified fpgaenv/ submodels to include streams
- modified hybrid HTG submodel to use hybrid memory

----------
aparasha    Date: Thu Feb 21 14:29:43 EST 2008  CSN: CSN-platforms-54
                  Thu Feb 21 19:29:43 UTC 2008


Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/streams
 streams-common.bsh        Locally Modified           53 
 asserts.dic               Locally Removed            53 
 hybrid-streams.h          Locally Modified           53 
 hybrid-streams.bsv        Locally Modified           53 
 bak.bsv                   Locally Removed            53 
 simulation-streams.bsv    Locally Modified           53 
 mem-test.dic              Locally Removed            53 
 stats.dic                 Locally Removed            53 
 events.dic                Locally Removed            53 
 messages.dic              Locally Removed            53 
 hybrid-streams.awb        Locally Modified           53 
 streamid.dic              Locally Added               0 
 simulation-streams.awb    Locally Modified           53 
 streams.dic               Locally Modified           53 
 hybrid-streams.cpp        Locally Modified           53 

Directory modules/bluespec/common/fpgaenv/physical-platform/physical-devices/pci-express
 ram.ngc                   Locally Modified           52 
 ram.vhd                   Locally Modified           52 
 CSR_CONTROLLER.vhd        Locally Modified           52 
 Channel_top.vhd           Locally Modified           52 

- re-worked streams. The module no longer explicitly identifies
  and handles different streamIDs. Individual modules using streams
  now need to register themselves with streams if they want anything
  but the default behavior (which is to print the stream to stdout).

- removed dictionaries from streams, and moved them to distributed
  modules.

- added skeleton dictionaries to streams, each with a single "NULL"
  entry. These are required for models that do not have even a single
  module adding to the streams dictionary.

- updated PCI-express physical device VHDL code to version 02-21-2008
  sent from CBL.

----------
aparasha    Date: Tue Feb 26 18:06:12 EST 2008  CSN: CSN-platforms-55
                  Tue Feb 26 23:06:12 UTC 2008


Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/front-panel/htg_v5_pcie
 HTGv5PCIeFP.bsv           Locally Modified           53 

Directory config/pm/hasim/submodels/fpgaenv
 fpgaenv-htg-hwonly.apm    Locally Added               0 
 hasim-fpgaenv-htg-v5-pcie.apm Locally Modified           53 

- added new fpgaenv submodel for hardware-only HTG platform. The
  APM filename, name and description have been given based on a
  new naming convention that all other fpgaenv submodels will be
  moved to eventually.

- modified name and description for hybrid HTG fpgaenv to make them
  comply with the new naming convention, but did not change the
  submodel APM filename.

- removed temporary debugging code from HTG Front Panel.

----------
mcadler     Date: Thu Feb 28 11:45:54 EST 2008  CSN: CSN-platforms-56
                  Thu Feb 28 16:45:54 UTC 2008


Directory modules/bluespec/common/fpgaenv/physical-platform/htg_virtex5/pcie-disabled
 htg-v5-pcie-disabled.ucf  Locally Modified           55 

Directory modules/bluespec/common/fpgaenv/physical-platform/htg_virtex5/pcie-enabled
 htg-v5-pcie-enabled.awb   Locally Modified           55 
 htg-v5-pcie-enabled.ucf   Locally Modified           55 

- Change HTG part name for proper speed bin (we were configured for a
  higher bin than our part -- could cause random failures)
- Fix CLK specification in UCF file.

----------
mcadler     Date: Wed Mar  5 11:32:40 EST 2008  CSN: CSN-platforms-57
                  Wed Mar  5 16:32:40 UTC 2008


Directory drivers/linux/hasim
 hasim-fpga-ctrl.c         Locally Modified           56 

Change commands for FPGA access.  Commands are now:

  --reserve   Reserve the FPGA.
  --program   Enable programming mode.  Removes the PCIe driver, disables
              the PCIe bus and enable's user write access to the programming
              cable, if necesary.
  --activate  Activate the PCIe bus, load the driver and disable write access
              to the programming cable.
  --drop-reservation

  --force may be specified to override another user's reservation.

It is safe to switch between the "program" and "activate" states without
dropping a reservation.

Note that the program uses getopt_long() to parse arguments.  That function
accepts the shortest unique string to specify an argument, so you can currently
use "hasim-fpga-ctrl --p" and "hasim-fpga-ctrl --a".

----------
pellauer    Date: Wed Mar  5 12:38:37 EST 2008  CSN: CSN-platforms-58
                  Wed Mar  5 17:38:37 UTC 2008


Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/streams
 simulation-streams.bsv    Locally Modified           57 


Bluesim-only streams is now fleshed out and works properly with dictionaries.

TBD: unify the string formatting between Verilog/C (%u, etc).


----------
aparasha    Date: Wed Mar  5 15:36:49 EST 2008  CSN: CSN-platforms-59
                  Wed Mar  5 20:36:49 UTC 2008


Directory modules/bluespec/common/fpgaenv/virtual-platform/channelio/pci-express/physical-channel
 driver-interface.cpp      Locally Modified           58 
 physical-channel.bsv      Locally Modified           58 

Directory modules/bluespec/common/fpgaenv/physical-platform/physical-devices/pci-express
 pci-express-vhdl-import.bsv Locally Modified           58 
 CSR_CONTROLLER.vhd        Locally Modified           58 

- added a temporary latch to the VHDL CSR controller to make it's interface
  with Bluespec behave like it expects it to.
- added some debugging code to the PCIe VHDL import module (most of this will gradually
  be removed).
- removed all polling delays from the software physical channel layer.

----------
mcadler     Date: Tue Mar 11 16:24:37 EDT 2008  CSN: CSN-platforms-60
                  Tue Mar 11 20:24:37 UTC 2008


Directory modules/bluespec/common/fpgaenv/virtual-platform/channelio/pci-express/physical-channel
 driver-interface.cpp      Locally Modified           59 
 libpchnl.c                Locally Modified           59 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/streams
 streams-common.bsh        Locally Modified           59 
 hybrid-streams.h          Locally Modified           59 
 simulation-streams.bsv    Locally Modified           59 
 hybrid-streams.cpp        Locally Modified           59 

Directory modules/bluespec/common/fpgaenv/physical-platform/htg_virtex5/pcie-enabled
 htg-v5-pcie-enabled.ucf   Locally Modified           59 

Directory drivers/linux/hasim
 hasim-fpga-ctrl.c         Locally Modified           59 

- Syntax changes for new dictionary structure.
- HTG board has a 50MHz crystal, not 100MHz.
- Clean up error printing when FPGA PCIe driver doesn't load correctly.

----------
aparasha    Date: Fri Mar 14 11:20:26 EDT 2008  CSN: CSN-platforms-61
                  Fri Mar 14 15:20:26 UTC 2008


Directory config/pm/hasim/submodels/fpgaenv
 hasim-fpgaenv-hybrid-sim.apm Locally Modified           60 
 hasim-fpgaenv-htg-v5-pcie.apm Locally Modified           60 

Directory modules/bluespec/common/fpgaenv/virtual-platform/channelio
 basic/                    Locally Added               0 

Directory modules/bluespec/common/fpgaenv/virtual-platform/channelio/basic
 basic-channelio.cpp       Locally Added               0 
 basic-channelio.h         Locally Added               0 
 basic-channelio.awb       Locally Added               0 
 basic-channelio.bsv       Locally Added               0 

Directory modules/bluespec/common/fpgaenv/virtual-platform/channelio
 pci-express/              Locally Removed            60 

Directory modules/bluespec/common/fpgaenv/virtual-platform/channelio/pci-express
 pcie-channelio.cpp        Locally Removed            60 
 physical-channel/         Locally Removed            60 

Directory modules/bluespec/common/fpgaenv/virtual-platform/channelio/pci-express/physical-channel
 driver-interface.h        Locally Removed            60 
 libpchnl.h                Locally Removed            60 
 physical-channel.cpp      Locally Removed            60 
 pchnl_if.h                Locally Removed            60 
 physical-channel.h        Locally Removed            60 
 driver-interface.cpp      Locally Removed            60 
 physical-channel.awb      Locally Removed            60 
 physical-channel.bsv      Locally Removed            60 
 libpchnl.c                Locally Removed            60 

Directory modules/bluespec/common/fpgaenv/virtual-platform/channelio/pci-express
 pcie-channelio.h          Locally Removed            60 
 pcie-channelio.awb        Locally Removed            60 
 pcie-channelio.bsv        Locally Removed            60 

Directory modules/bluespec/common/fpgaenv/virtual-platform/channelio
 physical-channel/         Locally Added               0 

Directory modules/bluespec/common/fpgaenv/virtual-platform/channelio/physical-channel
 pci-express/              Locally Added               0 

Directory modules/bluespec/common/fpgaenv/virtual-platform/channelio/physical-channel/pci-express
 driver-interface.h        Locally Added               0 
 libpchnl.h                Locally Added               0 
 pcie-physical-channel.cpp Locally Added               0 
 pcie-physical-channel.h   Locally Added               0 
 pchnl_if.h                Locally Added               0 
 pcie-physical-channel.awb Locally Added               0 
 pcie-physical-channel.bsv Locally Added               0 
 driver-interface.cpp      Locally Added               0 
 libpchnl.c                Locally Added               0 

Directory modules/bluespec/common/fpgaenv/virtual-platform/channelio/physical-channel
 sim/                      Locally Added               0 

Directory modules/bluespec/common/fpgaenv/virtual-platform/channelio/physical-channel/sim
 sim-physical-channel.awb  Locally Added               0 
 sim-physical-channel.bsv  Locally Added               0 
 sim-physical-channel-bdpi.c Locally Added               0 
 sim-physical-channel.cpp  Locally Added               0 
 sim-physical-channel-bdpi.h Locally Added               0 
 sim-physical-channel.h    Locally Added               0 

Directory modules/bluespec/common/fpgaenv/virtual-platform/channelio
 sim/                      Locally Removed            60 

Directory modules/bluespec/common/fpgaenv/virtual-platform/channelio/sim
 sim-channelio.bsv         Locally Removed            60 
 physical-channel.cpp      Locally Removed            60 
 sim-channelio-bdpi.c      Locally Removed            60 
 sim-channelio.cpp         Locally Removed            60 
 physical-channel.h        Locally Removed            60 
 sim-channelio-bdpi.h      Locally Removed            60 
 sim-channelio.h           Locally Removed            60 
 sim-channelio.awb         Locally Removed            60 

Directory modules/bluespec/common/fpgaenv/virtual-platform/rrr/basic
 basic-rrr-server.cpp      Locally Modified           60 

Reorganized ChannelIO and Physical Channels.

- ChannelIO is now platform independent, and only performs
  Virtual Channel Multiplexing.

- There are two valid implementations of ChannelIO, 'basic'
  and 'null'. Both are platform-independent.

- The module called 'Channel I/O to a UNIX process' of type
  channelio is an anomaly and will be re-located soon. It
  has nothing to do with Channel I/O and is in fact simply
  a Front Panel Physical Device for Pure Simulation.

- There are two platform-dependent PhysicalChannel modules,
  one for PCI-Express and the other for Hybrid Simulation,
  each of which knows how to provide the exact same interface
  to the ChannelIO Multiplexer above by talking to the
  available physical devices on their respective Physical
  Platforms.

----------
mcadler     Date: Fri Mar 14 15:38:49 EDT 2008  CSN: CSN-platforms-62
                  Fri Mar 14 19:38:49 UTC 2008


Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/streams
 simulation-streams.bsv    Locally Modified           61 

Directory drivers/linux/hasim
 hasim-fpga-ctrl.c         Locally Modified           61 

- Temporary fix for models using only the NULL streamID.
- Fix typo in hasim-fpga-ctrl

----------
aparasha    Date: Mon Mar 17 10:23:34 EDT 2008  CSN: CSN-platforms-63
                  Mon Mar 17 14:23:34 UTC 2008


Directory modules/bluespec/common/fpgaenv/virtual-platform/channelio/basic
 basic-channelio.cpp       Locally Modified           61 
 basic-channelio.h         Locally Modified           61 

Directory modules/bluespec/common/fpgaenv/virtual-platform/channelio/physical-channel/pci-express
 driver-interface.h        Locally Removed            61 
 libpchnl.h                Locally Removed            61 
 pcie-physical-channel.cpp Locally Modified           61 
 pcie-physical-channel.h   Locally Modified           61 
 pchnl_if.h                Locally Removed            61 
 pcie-physical-channel.awb Locally Modified           61 
 driver-interface.cpp      Locally Removed            61 
 libpchnl.c                Locally Removed            61 

Directory modules/bluespec/common/fpgaenv/virtual-platform/channelio/physical-channel/sim
 sim-physical-channel.awb  Locally Modified           61 
 sim-physical-channel.bsv  Locally Modified           61 
 sim-physical-channel-bdpi.c Locally Removed            61 
 sim-physical-channel.cpp  Locally Modified           61 
 sim-physical-channel-bdpi.h Locally Removed            61 
 sim-physical-channel.h    Locally Modified           61 

Directory modules/bluespec/common/fpgaenv/virtual-platform/rrr/basic
 basic-rrr-client.cpp      Locally Modified           61 
 basic-rrr-server.cpp      Locally Modified           61 

Directory modules/bluespec/common/fpgaenv/virtual-platform/low-level-platform-interface
 llpi.cpp                  Locally Added               0 
 hwonly-llpi.awb           Locally Added               0 
 llpi.h                    Locally Added               0 
 hybrid-llpi.awb           Locally Added               0 
 LowLevelPlatformInterface.bsv Locally Removed            61 
 llpi.bsv                  Locally Added               0 
 low-level-platform-interface.awb Locally Removed            61 

Directory modules/bluespec/common/fpgaenv/physical-platform
 simulation/               Locally Added               0 

Directory modules/bluespec/common/fpgaenv/physical-platform/simulation
 sim-physical-platform.cpp Locally Added               0 
 sim-physical-platform.h   Locally Added               0 
 sim-physical-platform.awb Locally Added               0 
 sim-physical-platform.bsv Locally Added               0 

Directory modules/bluespec/common/fpgaenv/physical-platform/htg_virtex5/pcie-enabled
 htg-v5-pcie-enabled.cpp   Locally Added               0 
 htg-v5-pcie-enabled.h     Locally Added               0 
 htg-v5-pcie-enabled.awb   Locally Modified           61 

Directory modules/bluespec/common/fpgaenv/physical-platform/physical-devices/pci-express
 pci-express-device-import.awb Locally Added               0 
 pci-express-c-import.h    Locally Added               0 
 libpchnl.h                Locally Added               0 
 pci-express-c-import.cpp  Locally Added               0 
 libpchnl.c                Locally Added               0 
 pci-express-vhdl-import.awb Locally Removed            61 

Directory modules/bluespec/common/fpgaenv/physical-platform/physical-devices
 unix-pipe/                Locally Added               0 

Directory modules/bluespec/common/fpgaenv/physical-platform/physical-devices/unix-pipe
 unix-pipe-device.h        Locally Added               0 
 unix-pipe-device.awb      Locally Added               0 
 unix-pipe-device.bsv      Locally Added               0 
 unix-pipe-device-bdpi.c   Locally Added               0 
 unix-pipe-device.cpp      Locally Added               0 
 unix-pipe-device-bdpi.h   Locally Added               0 

Directory drivers/linux/hasim/kernel
 pchnl_if.awb              Locally Added               0 
 README                    Locally Modified           61 

Directory config/pm/hasim/submodels/fpgaenv
 hasim-fpgaenv-software-no-gui.apm Locally Modified           61 
 hasim-fpgaenv-hybrid-sim.apm Locally Modified           61 
 hasim-fpgaenv-htg-v5-pcie.apm Locally Modified           61 
 hasim-fpgaenv-software.apm Locally Modified           61 

Significant Reorganization of Host Software Stack to make its
hierarchy similar to FPGA-side stack.

Summary of Changes
------------------

Software stack now instantiates and uses physical platforms
similar to the way Bluespec does. However, unlike Bluespec,
it does not have to go through an additional layer of "drivers"
sitting on top of devices.

All devices in the physical platform are collected together
into a PHYSICAL_DEVICES class, with accessors available for
each device, e.g., physicalDevices->GetPCIExpressDevice().

PCI-Express Physical Platform
-----------------------------

- Removed duplicate copy of kernel header "pchnl_if.h" from
  Physical Channel. Added an AWB file at the driver's location
  (platforms/drivers/...) which can be used to tap into the
  header.

- Removed "libpchnl.*" code from PCIe Physical Channel as well
  as the "driver_interface.*" wrappers into the PCIe Physical
  Device under Physical Platform. These are now part of the
  software side of the PCI-Express Physical Device. All VHDL
  and user-level C code provided by CBL is now imported in this
  module. The VHDL is wrapped in Bluespec and seen as an
  FPGA-side Device, and the C is wrapped in C++ and seen as a
  software-side Device.

- Added C++ files to htg_v5_pcie physical platform module.
  This code wraps together all physical devices available to
  the software side (currently, PCIe is the only device).

Simulation Physical Platform
----------------------------

- Added a Simulation Physical Platform. This should probably
  be renamed to "Hybrid-Simulation Physical Platform", since it
  is not clear (to me) yet whether this platform can be shared
  between Pure Simulation and Hybrid Simulation models.
  Currently, only Hybrid Simulation models use it.

- Added a UNIX Pipe Physical Device. Moved all C++ and BSV code
  that dealt with the lowest levels of interfacing with a UNIX
  pipe from the Simulation Physical Channel module to this
  device module. This includes all BDPI code. Barring some
  anomalous modules used for Pure Simulation (which will be
  fixed soon), Virtual Platforms is now free of any BDPI code.

- Simulation Physical Platform instantiates the UNIX Pipe
  Physical Device and makes it available to the upper layers
  as part of the PHYSICAL_DEVICES colelction.

Other
-----

- Added a Hybrid LLPI module that also adds a software version
  of the LLPI. Software LLPI now instantiates Physical Platform,
  ChannelIO and RRR modules (similar to BSV LLPI).

- Updated fpgaenv submodules to reflect the new organization.

----------
aparasha    Date: Mon Mar 17 11:49:47 EDT 2008  CSN: CSN-platforms-64
                  Mon Mar 17 15:49:47 UTC 2008


Directory modules/bluespec/common/fpgaenv/physical-platform/physical-devices/pci-express
 libpchnl.h                Locally Modified           63 
 libpchnl.c                Locally Modified           63 

Directory drivers/linux/hasim/kernel
 pchnl_if.h                Locally Modified           62 
 pchnl_main.c              Locally Modified           62 
 pchnl_main.h              Locally Modified           62 

- updated software PCIe kernel driver with latest code from CBL
  featuring support for memory-mapped IO and an updated
  interrupt interface.

- updated libpchnl code in PCIe physical device with latest
  snapshot from CBL.

----------
mcadler     Date: Mon Mar 17 13:28:49 EDT 2008  CSN: CSN-platforms-65
                  Mon Mar 17 17:28:49 UTC 2008


Directory drivers/linux/hasim/kernel
 pchnl_main.c              Locally Modified           64 

Fix a typo.

----------
aparasha    Date: Wed Mar 19 13:43:58 EDT 2008  CSN: CSN-platforms-66
                  Wed Mar 19 17:43:58 UTC 2008


Directory modules/bluespec/common/fpgaenv/virtual-platform/rrr/basic
 basic-rrr.bsh             Locally Removed            65 
 basic-rrr-server.bsv      Locally Modified           65 
 basic-rrr-common.bsh      Locally Added               0 
 basic-rrr-client.bsv      Locally Modified           65 
 basic-rrr.awb             Locally Modified           65 

Directory modules/bluespec/common/fpgaenv/virtual-platform/channelio/physical-channel/pci-express
 pcie-physical-channel.cpp Locally Modified           63 

Directory modules/bluespec/common/fpgaenv/physical-platform/physical-devices/pci-express
 pci-express-device-mmap.awb Locally Added               0 
 pci-express-c-import-mmap.cpp Locally Added               0 
 pci-express-c-import-mmap.h Locally Added               0 
 pci-express-c-import.cpp  Locally Removed            63 
 pci-express-device-ioctl.awb Locally Added               0 
 pci-express-device-import.awb Locally Removed            65 
 pci-express-c-import.h    Locally Removed            63 
 pci-express-c-import-ioctl.cpp Locally Added               0 
 pci-express-c-import-ioctl.h Locally Added               0 

Directory modules/bluespec/common/fpgaenv/physical-platform/htg_virtex5/pcie-disabled
 htg-v5-pcie-disabled.awb  Locally Modified           63 

Directory drivers/linux/hasim/kernel
 pchnl_if.awb              Locally Modified           65 

Directory config/pm/hasim/submodels/fpgaenv
 fpgaenv-htg-hwonly.apm    Locally Modified           63 
 hasim-fpgaenv-fsb-afu.apm Locally Modified           63 
 hasim-fpgaenv-htg-v5-pcie.apm Locally Modified           63 
 hasim-fpgaenv-null.apm    Locally Modified           63 
 hasim-fpgaenv-xup.apm     Locally Modified           63 
 hasim-fpgaenv-fsb-dme.apm Locally Modified           63 

- added support for Memory-Mapped CSR I/O on the host side (doesn't
  work yet). Ioctl-based or Memory-Mapped IO can be selected by
  choosing the approproiate PCIe device.

- fixed some fpgaenv submodels that were broken by the last checkin.

- renamed a file in RRR.

----------
mcadler     Date: Thu Mar 20 07:46:31 EDT 2008  CSN: CSN-platforms-67
                  Thu Mar 20 11:46:31 UTC 2008


Directory modules/bluespec/common/fpgaenv/physical-platform/physical-devices/pci-express
 libpchnl.c                Locally Modified           66 

Fix double free on error opening driver, again.

----------
jsemer      Date: Thu Mar 20 16:48:59 EDT 2008  CSN: CSN-platforms-68
                  Thu Mar 20 20:48:59 UTC 2008


Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/streams
 hybrid-streams.bsv        Locally Modified           67 

Removed gratuitous reference to soft connections in the platform.

Joel

----------
aparasha    Date: Thu Mar 20 17:41:58 EDT 2008  CSN: CSN-platforms-69
                  Thu Mar 20 21:41:58 UTC 2008


Directory modules/bluespec/common/fpgaenv/virtual-platform/rrr/basic
 basic-rrr-server.bsv      Locally Modified           68 
 basic-rrr-common.bsh      Locally Modified           68 
 basic-rrr.awb             Locally Modified           68 
 demarshaller.bsv          Locally Added               0 

- split demarshaller code away from rrr-server into separate file

----------
aparasha    Date: Fri Mar 21 10:59:29 EDT 2008  CSN: CSN-platforms-70
                  Fri Mar 21 14:59:29 UTC 2008


Directory modules/bluespec/common/fpgaenv/virtual-platform/low-level-platform-interface
 llpi.h                    Locally Modified           68 

Directory modules/bluespec/common/fpgaenv/physical-platform/htg_virtex5/pcie-enabled
 htg-v5-pcie-enabled.h     Locally Modified           68 

- fixed two minor syntactic bugs in llpi.h and htg-v5-pcie-enabled.h

----------
jsemer      Date: Fri Mar 21 16:27:37 EDT 2008  CSN: CSN-platforms-71
                  Fri Mar 21 20:27:37 UTC 2008


Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/streams
 streams-common.bsh        Locally Modified           70 
 hybrid-streams.bsv        Locally Modified           70 

Removed unneeded references to hasim-common in streams module.

----------
aparasha    Date: Fri Mar 21 16:57:02 EDT 2008  CSN: CSN-platforms-72
                  Fri Mar 21 20:57:02 UTC 2008


Directory modules/bluespec/common/fpgaenv/virtual-platform/channelio/physical-channel
 pci-express/              Locally Removed            69 

Directory modules/bluespec/common/fpgaenv/virtual-platform/channelio/physical-channel/pci-express
 pcie-physical-channel.cpp Locally Removed            69 
 pcie-physical-channel.h   Locally Removed            69 
 pcie-physical-channel.awb Locally Removed            69 
 pcie-physical-channel.bsv Locally Removed            69 

Directory modules/bluespec/common/fpgaenv/virtual-platform/channelio/physical-channel
 pcie-debugger/            Locally Added               0 

Directory modules/bluespec/common/fpgaenv/virtual-platform/channelio/physical-channel/pcie-debugger
 pcie-debugger.cpp         Locally Added               0 
 pcie-debugger.h           Locally Added               0 
 pcie-debugger.awb         Locally Added               0 
 pcie-debugger.bsv         Locally Added               0 

Directory modules/bluespec/common/fpgaenv/virtual-platform/channelio/physical-channel
 pcie-csr/                 Locally Added               0 

Directory modules/bluespec/common/fpgaenv/virtual-platform/channelio/physical-channel/pcie-csr
 pcie-physical-channel.cpp Locally Added               0 
 pcie-physical-channel.h   Locally Added               0 
 pcie-physical-channel.awb Locally Added               0 
 pcie-physical-channel.bsv Locally Added               0 

Directory config/pm/hasim/submodels/fpgaenv
 hasim-fpgaenv-htg-v5-pcie.apm Locally Modified           69 

- added separate physical channel module for debugging PCIe I/O (the original
  physical channel code still has some of this functionality, this will be
  removed soon).

- renamed some directories in physical channel

- updated htg fpgaenv to reflect the directory name change

----------
aparasha    Date: Fri Mar 21 18:01:38 EDT 2008  CSN: CSN-platforms-73
                  Fri Mar 21 22:01:38 UTC 2008


Directory modules/bluespec/common/fpgaenv/virtual-platform/channelio/physical-channel/pcie-csr
 pcie-physical-channel.bsv Locally Modified           72 

removed unnecessary reference to hasim_common.

----------
jsemer      Date: Fri Mar 21 20:50:49 EDT 2008  CSN: CSN-platforms-74
                  Sat Mar 22 00:50:49 UTC 2008


Directory modules/bluespec/common/fpgaenv/physical-platform/simulation
 sim-physical-platform.h   Locally Modified           73 

Eliminated extra qualification on constructor/destructor that gcc 4.1
was unhappy with.

----------
mcadler     Date: Tue Mar 25 16:33:12 EDT 2008  CSN: CSN-platforms-75
                  Tue Mar 25 20:33:12 UTC 2008


Directory drivers/linux/hasim/kernel
 pchnl_main.c              Locally Modified           74 

Shift for page offset was in wrong direction for Linux kernels <= 2.6.9

----------
aparasha    Date: Tue Mar 25 18:21:28 EDT 2008  CSN: CSN-platforms-76
                  Tue Mar 25 22:21:28 UTC 2008


Directory config/pm/hasim/submodels/fpgaenv
 hasim-fpgaenv-htg-v5-pcie.apm Locally Modified           75 

Directory modules/bluespec/common/fpgaenv/virtual-platform/channelio/physical-channel/pcie-csr
 pcie-physical-channel.cpp Locally Modified           75 

Directory modules/bluespec/common/fpgaenv/virtual-platform/rrr/basic
 basic-rrr-server.cpp      Locally Modified           75 

- changed HTG fpgaenv submodel to mmap-based PCI-express device

- fixed a MAJOR bug in RRR server software code. It was not setting the
  methodID properly for call returns.

----------
pellauer    Date: Wed Mar 26 18:03:42 EDT 2008  CSN: CSN-platforms-77
                  Wed Mar 26 22:03:42 UTC 2008


Directory config/pm/hasim/submodels/fpgaenv
 fpgaenv-htg-hwonly.apm    Locally Modified           76 
 hasim-fpgaenv-fsb-afu.apm Locally Modified           76 
 hasim-fpgaenv-software-no-gui.apm Locally Modified           76 
 hasim-fpgaenv-hybrid-sim.apm Locally Modified           76 
 hasim-fpgaenv-htg-v5-pcie.apm Locally Modified           76 
 hasim-fpgaenv-null.apm    Locally Modified           76 
 hasim-fpgaenv-software.apm Locally Modified           76 
 hasim-fpgaenv-xup.apm     Locally Modified           76 
 hasim-fpgaenv-fsb-dme.apm Locally Modified           76 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/memory/hybrid
 hybrid-memory.awb         Locally Removed            76 
 HybridMemory.bsv          Locally Removed            76 
 memory_virtual_device_datatypes.bsv Locally Added               0 
 memory_virtual_device_hybrid.awb Locally Added               0 
 memory_virtual_device_hybrid.bsv Locally Added               0 
 hybrid-memory-services.rrr Locally Modified           76 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/memory/simulation
 simulation-memory.awb     Locally Removed            76 
 BRAMMemory.bsv            Locally Removed            76 
 virtual_device_memory_datatypes.bsv Locally Added               0 
 virtual_device_memory_simulation.awb Locally Added               0 
 virtual_device_memory_simulation.bsv Locally Added               0 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/memory/null
 memory_virtual_device_null.awb Locally Added               0 
 memory_virtual_device_null.bsv Locally Added               0 
 memory_virtual_device_datatypes.bsv Locally Added               0 
 null-memory.awb           Locally Removed            76 
 NullMemory.bsv            Locally Removed            76 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/memory
 template/                 Locally Added               0 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/memory/template
 memory_virtual_device_template.awb Locally Added               0 
 memory_virtual_device_template.bsv Locally Added               0 
 memory_virtual_device_datatypes.bsv Locally Added               0 


Updated all versions of the memory virtual device to the latest coding
conventions.

Added a code template for the memory virtual device which details the
requirements and interface.

Updated all models to use the new memory virtual device correctly.

Michael P.

----------
aparasha    Date: Thu Mar 27 17:04:43 EDT 2008  CSN: CSN-platforms-78
                  Thu Mar 27 21:04:43 UTC 2008


Directory modules/bluespec/common/fpgaenv/virtual-platform/rrr/basic
 demarshaller.bsv          Locally Modified           77 

Updated demarshaller to support arbitrary output bitwidths (including
zero).

----------
aparasha    Date: Thu Mar 27 18:48:18 EDT 2008  CSN: CSN-platforms-79
                  Thu Mar 27 22:48:18 UTC 2008


Directory modules/bluespec/common/fpgaenv/virtual-platform/rrr/basic
 basic-rrr-server.bsv      Locally Modified           77 

Directory modules/bluespec/common/fpgaenv/virtual-platform/low-level-platform-interface
 llpi.bsv                  Locally Modified           77 

Hardware RRR Server update
--------------------------
- updated interface to export a vector of request and response ports
  (one pair per service) instead of the old single request/response
  methods with the serviceID as parameter. The ports are connected
  to per-service queues internal to the server.

- added support for response path. Arbitration between multiple
  incoming responses on the response ports is done explicitly via
  a simple priority tree. Highest priority is currently given to the
  service with the lowest ID, although this can easily be changed
  later.

- updated interface name to conform to coding conventions.

- updated LLPI to match new server interface name.

----------
jsemer      Date: Fri Mar 28 11:55:05 EDT 2008  CSN: CSN-platforms-80
                  Fri Mar 28 15:55:05 UTC 2008


Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/front-panel/hybrid
 HybridFP.bsv              Locally Modified           79 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/front-panel/console
 NullFP.bsv                Locally Modified           79 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/front-panel/graphical
 GraphicalFP.bsv           Locally Modified           79 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/front-panel/xup
 XUPFP.bsv                 Locally Modified           79 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/front-panel/htg_v5_pcie
 HTGv5PCIeFP.bsv           Locally Modified           79 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/streams
 hybrid-streams.bsv        Locally Modified           79 
 simulation-streams.bsv    Locally Modified           79 

Updated the various implementations of the front panel
and streams virtual devices to use individual arguments
for the remote methods rather than passing a struct as
the only argument.

Eliminated some hasim references in the simulation-streams
implementation.

----------
pellauer    Date: Fri Mar 28 13:26:34 EDT 2008  CSN: CSN-platforms-81
                  Fri Mar 28 17:26:34 UTC 2008


Directory modules/bluespec/common/fpgaenv/virtual-platform/rrr/null
 null-rrr.bsv              Locally Modified           80 

Directory modules/bluespec/common/fpgaenv/virtual-platform/umf/null
 null-umf.awb              Locally Modified           80 
 null-umf.bsv              Locally Added               0 


Added an update to Null RRR/UMF to make them work in the Hardware-Only FPGA environment.

Michael P.

----------
joel        Date: Fri Mar 28 18:17:50 EDT 2008  CSN: CSN-platforms-82
                  Fri Mar 28 22:17:50 UTC 2008


Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/streams
 simulation-streams.bsv    Locally Modified           81 

Simulation streams now default to print to STDOUT like the hybrid streams.
But because we aren't yet checking the format string for the number of arguments 
that need to be printed, junk numbers get printed for the excess arguments.

----------
pellauer    Date: Mon Mar 31 11:14:38 EDT 2008  CSN: CSN-platforms-83
                  Mon Mar 31 15:14:38 UTC 2008


Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/streams
 simulation-streams.bsv    Locally Modified           82 


Fixed some typos in simulation-streams.

Michael P.


----------
aparasha    Date: Mon Mar 31 18:52:45 EDT 2008  CSN: CSN-platforms-84
                  Mon Mar 31 22:52:45 UTC 2008


Directory modules/bluespec/common/fpgaenv/virtual-platform/rrr/basic
 basic-rrr-server.bsv      Locally Modified           83 
 marshaller.bsv            Locally Added               0 
 basic-rrr.awb             Locally Modified           83 

Directory modules/bluespec/common/fpgaenv/virtual-platform/rrr/null
 null-rrr.bsv              Locally Modified           83 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/front-panel/hybrid
 HybridFP.bsv              Locally Modified           83 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/memory/hybrid
 memory_virtual_device_hybrid.bsv Locally Modified           83 

Directory modules/bluespec/common/fpgaenv/virtual-platform/umf/simple-32
 simple-32-umf.cpp         Locally Modified           83 
 simple-32-umf.h           Locally Modified           83 

- completed RRR Response path for software client/hardware server
- fixed a bug in UMF

----------
aparasha    Date: Tue Apr  1 14:51:01 EDT 2008  CSN: CSN-platforms-85
                  Tue Apr  1 18:51:01 UTC 2008


Directory modules/bluespec/common/fpgaenv/physical-platform/simulation
 sim-physical-platform.cpp Locally Modified           84 
 sim-physical-platform.h   Locally Modified           84 

Directory modules/bluespec/common/fpgaenv/physical-platform/htg_virtex5/pcie-enabled
 htg-v5-pcie-enabled.cpp   Locally Modified           84 
 htg-v5-pcie-enabled.h     Locally Modified           84 

Directory modules/bluespec/common/fpgaenv/physical-platform/physical-devices/pci-express
 pci-express-c-import-ioctl.cpp Locally Modified           84 

- Added missing Uninit() methods to software sim-physical-platform and
  htg-v5-pcie physical platform. This completes the Uninit() chain all
  the way from the top level (main) of the instantiation hierarchy down
  to the leaf-nodes (physical devices), thereby ensuring a clean exit
  whenever any module in the hierarchy calls CallbackExit().

  This fixes the zombie Bluesim process bug.

- Removed unnecessary cout status messages in pcie device C code.

----------
mcadler     Date: Wed Apr  2 09:23:25 EDT 2008  CSN: CSN-platforms-86
                  Wed Apr  2 13:23:25 UTC 2008


Directory modules/bluespec/common/fpgaenv/physical-platform/htg_virtex5/pcie-enabled
 htg-v5-pcie-enabled.cpp   Locally Modified           85 

Didn't compile because PCIE_DEVICE_CLASS constructor doesn't take arguments.
Since no arguments are needed, it shouldn't have to be mentioned in the
initialization list.  Not tested beyond noting that it now compiles.

----------
aparasha    Date: Wed Apr  2 12:05:02 EDT 2008  CSN: CSN-platforms-87
                  Wed Apr  2 16:05:02 UTC 2008


Directory modules/bluespec/common/fpgaenv/physical-platform/simulation
 sim-physical-platform.cpp Locally Modified           85 
 sim-physical-platform.h   Locally Modified           85 

Directory modules/bluespec/common/fpgaenv/physical-platform/htg_virtex5/pcie-enabled
 htg-v5-pcie-enabled.cpp   Locally Modified           86 
 htg-v5-pcie-enabled.h     Locally Modified           86 

Directory modules/bluespec/common/fpgaenv/physical-platform/physical-devices/pci-express
 pci-express-c-import-mmap.cpp Locally Modified           84 
 pci-express-c-import-mmap.h Locally Modified           84 
 pci-express-c-import-ioctl.cpp Locally Modified           85 
 pci-express-c-import-ioctl.h Locally Modified           84 

Directory modules/bluespec/common/fpgaenv/physical-platform/physical-devices/unix-pipe
 unix-pipe-device.h        Locally Modified           84 
 unix-pipe-device.cpp      Locally Modified           84 

Directory modules/bluespec/common/fpgaenv/virtual-platform/channelio/basic
 basic-channelio.cpp       Locally Modified           84 
 basic-channelio.h         Locally Modified           84 

Directory modules/bluespec/common/fpgaenv/virtual-platform/channelio/physical-channel/pcie-debugger
 pcie-debugger.cpp         Locally Modified           84 
 pcie-debugger.h           Locally Modified           84 

Directory modules/bluespec/common/fpgaenv/virtual-platform/channelio/physical-channel/pcie-csr
 pcie-physical-channel.cpp Locally Modified           84 
 pcie-physical-channel.h   Locally Modified           84 

Directory modules/bluespec/common/fpgaenv/virtual-platform/rrr/basic
 basic-rrr-server.cpp      Locally Modified           84 
 basic-rrr-server.h        Locally Modified           84 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/front-panel/hybrid
 hybrid-fp-sw.h            Locally Modified           84 
 hybrid-fp-sw.cpp          Locally Modified           84 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/memory/hybrid
 hybrid-memory-sw.cpp      Locally Modified           84 
 hybrid-memory-sw.h        Locally Modified           84 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/streams
 hybrid-streams.h          Locally Modified           84 
 hybrid-streams.cpp        Locally Modified           84 

Directory modules/bluespec/common/fpgaenv/virtual-platform/low-level-platform-interface
 llpi.cpp                  Locally Modified           84 
 llpi.h                    Locally Modified           84 

- removed explicit Uninit() methods from all C++ classes, except in
  cases where the module must perform some specific cleanup tasks
  before propagating the signal to its children.

- updated PCIe device class to derive from HASIM_MODULE_CLASS;
  restored original instantiation code in HTGv5 platform class.

----------
mcadler     Date: Wed Apr  2 13:57:57 EDT 2008  CSN: CSN-platforms-88
                  Wed Apr  2 17:57:57 UTC 2008


Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/front-panel/hybrid
 hybrid-fp-sw.cpp          Locally Modified           87 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/memory/hybrid
 hybrid-memory-sw.cpp      Locally Modified           87 
 vmh-utils.cpp             Locally Modified           87 
 vmh-utils.h               Locally Modified           87 

Directory modules/bluespec/common/fpgaenv/physical-platform/physical-devices/unix-pipe
 unix-pipe-device.cpp      Locally Modified           87 

Change the way command line arguments are passed around.

----------
pellauer    Date: Fri Apr  4 16:09:09 EDT 2008  CSN: CSN-platforms-89
                  Fri Apr  4 20:09:09 UTC 2008


Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/streams
 streams-common.bsh        Locally Modified           88 
 hybrid-streams.bsv        Locally Modified           88 
 simulation-streams.bsv    Locally Modified           88 

Directory modules/bluespec/common/fpgaenv/physical-platform/physical-devices/unix-pipe
 unix-pipe-device.cpp      Locally Modified           88 


* Events are no longer handled by streams.
* Fixed a missing include in unix-pipe-device.

Michael P.

----------
pellauer    Date: Fri Apr  4 16:09:57 EDT 2008  CSN: CSN-platforms-90
                  Fri Apr  4 20:09:57 UTC 2008


Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/memory/hybrid
 vmh-utils.cpp             Locally Modified           89 


* Changed strtol() to strtoul() to work on 32-bit platforms.

Michael P.

----------
mcadler     Date: Sun Apr  6 09:39:14 EDT 2008  CSN: CSN-platforms-91
                  Sun Apr  6 13:39:14 UTC 2008


Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/streams
 simulation-streams.bsv    Locally Modified           90 

Fix parameter mismatch between declarations and remove reference to msg
in default clause for printing messages, since it no longer has meaning.

----------
pellauer    Date: Wed Apr  9 15:28:52 EDT 2008  CSN: CSN-platforms-92
                  Wed Apr  9 19:28:52 UTC 2008


Directory config/pm/hasim/submodels/fpgaenv
 fpgaenv-htg-hwonly.apm    Locally Modified           91 
 hasim-fpgaenv-fsb-afu.apm Locally Removed            91 
 hasim-fpgaenv-software-no-gui.apm Locally Removed            91 
 hasim-fpgaenv-hybrid-sim.apm Locally Modified           91 
 hasim-fpgaenv-htg-v5-pcie.apm Locally Modified           91 
 hasim-fpgaenv-null.apm    Locally Modified           91 
 hasim-fpgaenv-software.apm Locally Removed            91 
 hasim-fpgaenv-xup.apm     Locally Modified           91 
 hasim-fpgaenv-fsb-dme.apm Locally Removed            91 

Directory modules/bluespec/common/fpgaenv/virtual-platform/channelio/basic
 basic-channelio.cpp       Locally Modified           91 
 basic-channelio.h         Locally Modified           91 

Directory modules/bluespec/common/fpgaenv/virtual-platform/channelio/physical-channel/sim
 sim-physical-channel.cpp  Locally Modified           91 
 sim-physical-channel.h    Locally Modified           91 

Directory modules/bluespec/common/fpgaenv/virtual-platform/rrr/basic
 basic-rrr-client.cpp      Locally Modified           91 
 basic-rrr-client.h        Locally Modified           91 
 basic-rrr-server.cpp      Locally Modified           91 
 basic-rrr-server.h        Locally Modified           91 

Directory modules/bluespec/common/fpgaenv/virtual-platform/low-level-platform-interface
 llpi.cpp                  Locally Modified           91 
 llpi.h                    Locally Modified           91 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/front-panel/hybrid
 hybrid-fp-sw.h            Locally Modified           91 
 hybrid-fp-sw.cpp          Locally Modified           91 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/memory/hybrid
 hybrid-memory-sw.cpp      Locally Modified           91 
 hybrid-memory-sw.h        Locally Modified           91 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/streams
 hybrid-streams.h          Locally Modified           91 
 simulation-streams.bsv    Locally Modified           91 
 hybrid-streams.cpp        Locally Modified           91 

Directory modules/bluespec/common/fpgaenv/physical-platform/simulation
 sim-physical-platform.cpp Locally Modified           91 
 sim-physical-platform.h   Locally Modified           91 

Directory modules/bluespec/common/fpgaenv/physical-platform/physical-devices/unix-pipe
 unix-pipe-device.h        Locally Modified           91 
 unix-pipe-device.cpp      Locally Modified           91 


* Made the FPGA environments consistent with the new controller/model organization.
* Changed "HASIM_MODULE" to "PLATFORMS_MODULE"

TODO: The "PLATFORMS_MODULE" file should really be a library, but
hasim-configure doesn't support them yet.

----------
pellauer    Date: Wed Apr  9 16:54:05 EDT 2008  CSN: CSN-platforms-93
                  Wed Apr  9 20:54:05 UTC 2008


Directory modules/bluespec/common/fpgaenv/virtual-platform/low-level-platform-interface
 platforms-module.h        Locally Added               0 
 hybrid-llpi.awb           Locally Modified           92 
 platforms-module.cpp      Locally Added               0 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/front-panel/hybrid
 hybrid-fp-sw.cpp          Locally Modified           92 

Directory modules/bluespec/common/fpgaenv/virtual-platform/virtual-devices/memory/hybrid
 hybrid-memory-sw.cpp      Locally Modified           92 

Directory modules/bluespec/common/fpgaenv/physical-platform/physical-devices/unix-pipe
 unix-pipe-device.cpp      Locally Modified           92 


* Updated global args. 

* Moved platform-modules to low-level-platform interface until it can become a
library.

Michael P.



----------
pellauer    Date: Mon Apr 14 15:02:20 EDT 2008  CSN: CSN-platforms-94
                  Mon Apr 14 19:02:20 UTC 2008


Directory modules/bluespec/common/fpgaenv/virtual-platform/rrr/basic
 basic-rrr-common.bsh      Locally Modified           93 


Added UINT64 to rrr-common.


----------
mcadler     Date: Mon Apr 14 21:10:03 EDT 2008  CSN: CSN-platforms-95
                  Tue Apr 15 01:10:03 UTC 2008


Directory config/pm/hasim/submodels/fpgaenv
 hasim-fpgaenv-hybrid-m5-alpha-sim.apm Locally Added               0 

Directory admin/packages
 platforms                 Locally Modified           94 

Directory modules/bluespec/common/fpgaenv/virtual-platform
 m5-virtual-platform.awb   Locally Added               0 
 std-virtual-platform.h    Locally Added               0 
 std-virtual-platform.awb  Locally Modified           94 
 fast-virtual-platform.awb Locally Modified           94 
 m5-virtual-platform.h     Locally Added               0 

- Define a virtual platform that includes m5.
- All virtual platforms now have a VIRTUAL_PLATFORM class with a constructor
  that takes a subset of the command line parameters.  m5 needs this.
  The std-virtual-platform.h class does nothing.
